"use strict";angular.module("localBusinessApp",["ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap","angularFileUpload","ui.sortable","pascalprecht.translate","youtube-embed"]).config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(a,b,c,d){b.otherwise("/"),c.html5Mode(!0),d.interceptors.push("authInterceptor")}]).config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"/assets/languages/",suffix:".json"}),a.preferredLanguage("en")}]).factory("authInterceptor",["$rootScope","$q","$cookieStore","$location",function(a,b,c,d){return{request:function(a){return a.headers=a.headers||{},c.get("token")&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status?(d.path("/login"),c.remove("token"),b.reject(a)):b.reject(a)}}}]).filter("percentage",["$filter",function(a){return function(b,c){return a("number")(100*b,c)+"%"}}]).run(["$rootScope","$location","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){c.isLoggedInAsync(function(a){d.authenticate&&!a&&b.path("/login")})})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginCtrl"}).state("forgot",{url:"/forgot",templateUrl:"app/account/forgot/forgot.html",controller:"ForgotCtrl"}).state("reset",{url:"/reset/:token",templateUrl:"app/account/reset/reset.html",controller:"ResetCtrl"}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupCtrl"}).state("create",{url:"/create",templateUrl:"app/account/create/create.html",controller:"CreateCtrl"}).state("edit",{url:"/:id/edit",templateUrl:"app/account/create/create.html",controller:"EditCtrl"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsCtrl",authenticate:!0})}]),angular.module("localBusinessApp").controller("CreateCtrl",["$scope","Auth","User","Accounts","$location",function(a,b,c,d,e){a.isCreate=!0,a.submitLabel="Create",a.user={},a.errors={},a.datepick={},a.datepick.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],a.datepick.format=a.datepick.formats[2],a.datepick.today=function(){a.datepick.dt=new Date},a.datepick.today(),a.datepick.disabled=function(a,b){return!1},a.datepick.toggleMin=function(){a.datepick.minDate=a.minDate?null:new Date},a.datepick.toggleMin(),a.datepick.opened=!1,a.datepick.open=function(b){b.preventDefault(),b.stopPropagation(),a.datepick.opened=!0},a.datepick.dateOptions={formatYear:"yy",startingDay:1},a.register=function(c){a.submitted=!0,c.$valid&&b.createUserByAdmin({name:a.user.name,email:a.user.email,password:a.user.password}).then(function(a){console.log(a);var b=a._id;d.initialize(b),e.path("/admin")})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,d){c[d].$setValidity("mongoose",!1),a.errors[d]=b.message})})},$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("EditCtrl",["$scope","Auth","User","Accounts","$location","$state","$stateParams",function(a,b,c,d,e,f,g){function h(){f.transitionTo("admin",{},{reload:!0})}a.isEdit=!0,a.submitLabel="Update";var i=null;c.show({id:g.id}).$promise.then(function(b){i=b,a.user=i}),d.getForUser(g.id).then(function(b){var c=b.data;c.result.length>0&&(console.log("Accounts: %o",c.result),a.account=c.result[0])}),a.errors={},a.datepick={},a.datepick.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],a.datepick.format=a.datepick.formats[2],a.datepick.today=function(){a.datepick.dt=new Date},a.datepick.today(),a.datepick.disabled=function(a,b){return!1},a.datepick.toggleMin=function(){a.datepick.minDate=a.minDate?null:new Date},a.datepick.toggleMin(),a.datepick.opened=!1,a.datepick.open=function(b){b.preventDefault(),b.stopPropagation(),a.datepick.opened=!0},a.datepick.dateOptions={formatYear:"yy",startingDay:1},a.register=function(b){a.submitted=!0,b.$valid&&(i.$save(function(b,c){console.log(b),a.user=b,d.update(i.result._id,a.account)}),h())},a.cancel=function(){h()},a.expiration=function(){a.datepick.opened=!1},$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("ForgotCtrl",["$scope","Auth",function(a,b){a.forgot=function(c){a.submitted=!0,a.success=!1,a.error="",c.$valid&&b.forgot(a.email).then(function(){a.success=!0})["catch"](function(b){a.error=b.message})},$(window).trigger("resize"),$("body").css("backgroundColor","#e8ebec")}]),angular.module("localBusinessApp").controller("LoginCtrl",["$scope","Auth","$location",function(a,b,c){a.user={},a.errors={},a.login=function(d){a.submitted=!0,d.$valid&&b.login({email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){a.errors.other=b.message})},b.isLoggedIn()&&c.path("/"),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("ResetCtrl",["$scope","$stateParams","$timeout","$location","$log","Auth",function(a,b,c,d,e,f){a.reset=function(e){a.submitted=!0,a.success=!1,a.error="",e.$valid&&a.password===a.confirm&&f.reset({password:a.password,token:b.token}).then(function(){a.success=!0,c(function(){d.path("/login")},1e4)})["catch"](function(b){a.error=b.message})},$(window).trigger("resize"),$("body").css("backgroundColor","#e8ebec")}]),angular.module("localBusinessApp").controller("SettingsCtrl",["$scope","User","Auth",function(a,b,c){a.errors={},a.changePassword=function(b){a.submitted=!0,b.$valid&&c.changePassword(a.user.oldPassword,a.user.newPassword).then(function(){a.message="Password successfully changed."})["catch"](function(){b.password.$setValidity("mongoose",!1),a.errors.other="Incorrect password",a.message=""})}}]),angular.module("localBusinessApp").controller("SignupCtrl",["$scope","Auth","$location",function(a,b,c){a.user={},a.errors={},a.register=function(d){a.submitted=!0,d.$valid&&b.createUser({name:a.user.name,email:a.user.email,password:a.user.password}).then(function(){c.path("/")})["catch"](function(b){b=b.data,a.errors={},angular.forEach(b.errors,function(b,c){d[c].$setValidity("mongoose",!1),a.errors[c]=b.message})})},$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("AccountsPhotoCtrl",["$scope","$rootScope","$location","$log","$q","Accounts","$window","Media","ImageUploader",function(a,b,c,d,e,f,g,h,i){function j(){a.ui.inProgress=!0}function k(){a.ui.inProgress=!1}a.trashbin=[],a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,f.get().then(function(b){var c=b.data;a.data.model=c.result[0],a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)})["catch"](function(a){d.error("response",a)}),a.onFileSelect=i.onFileSelectForUpdateMulti(a),a.update=function(){function b(b){var c=a.data.model.media.concat(b);a.data.model.media=c,f.update(a.data.model._id,a.data.model).then(function(b){k(),$.notify("All the changes have been saved.",{status:"success"}||{}),a.$emit("list_updated")})["catch"](function(a){k(),d.error("response",a)})}function c(){var c=[];for(var d in a.data.uploadedImages)c.push(h.create(a.data.uploadedImages[d]));e.all(c).then(function(c){a.data.uploadedImages=[];var d=[];for(var e in c)d.push(c[e].data.result._id);b(d)})}if(j(),a.trashbin.length>0){var g=[];for(var i in a.trashbin)g.push(h["delete"](a.trashbin[i]));e.all(g).then(function(a){k(),console.log(a)})["catch"](function(a){console.log(a)})}a.data.uploadedImages.length>0?c():b([])},a.deleteImage=function(b){var c;if(a.data.model.media.length>b)c=a.data.model.media[b]._id,a.trashbin.push(c),a.data.model.media.splice(b,1);else{var d=b-a.data.model.media.length;a.data.uploadedImages.splice(d,1)}a.ui.pictures.splice(b,1),a.ui.progress=0};var l=b.$on("list_updated",function(){f.get().then(function(b){var c=b.data;a.data.model=c.result[0],a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)})});a.cancel=function(){$.notify("All the changes have been canceled.",{status:"info"}||{}),a.$emit("list_updated")},a.$emit("list_updated"),a.$on("$destroy",l),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("AccountsBusinessCtrl",["$scope","$rootScope","$location","$log","$q","Accounts","$window",function(a,b,c,d,e,f,g){function h(){a.ui.inProgress=!0}function i(){a.ui.inProgress=!1}a.data={model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.ismeridian=!1,a.hstep=1,a.mstep=15,a.addOpenHourInputs=function(){a.data.model.business.hours.days.push({day:1,openAt:null,closeAt:null})},a.removeOpenHourInputs=function(b){a.data.model.business.hours.days.splice(b,1)};var j=b.$on("list_updated",function(){f.get().then(function(b){var c=b.data;a.data.model=c.result[0]})});a.update=function(){h();for(var b=0;b<a.data.model.business.hours.days.length;b++){var c=a.data.model.business.hours.days[b];c.openAt=new Date(c.openAt).getTime(),c.closeAt=new Date(c.closeAt).getTime(),a.data.model.business.hours.days[b]=c}f.update(a.data.model._id,a.data.model).then(function(b){i(),$.notify("All the changes have been saved.",{status:"success"}||{}),a.$emit("list_updated")})["catch"](function(a){})},a.cancel=function(){$.notify("All the changes have been canceled.",{status:"info"}||{}),a.$emit("list_updated")},a.$emit("list_updated"),a.$on("$destroy",j),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("AccountsContactCtrl",["$scope","$rootScope","$location","$log","$q","Accounts","$window",function(a,b,c,d,e,f,g){function h(){a.ui.inProgress=!0}function i(){a.ui.inProgress=!1}a.data={model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1;var j=b.$on("list_updated",function(){f.get().then(function(b){var c=b.data;a.data.model=c.result[0]})});a.update=function(){h(),f.update(a.data.model._id,a.data.model).then(function(b){i(),$.notify("All the changes have been saved.",{status:"success"}||{}),a.$emit("list_updated")})["catch"](function(a){})},a.cancel=function(){$.notify("All the changes have been canceled.",{status:"info"}||{}),a.$emit("list_updated")},a.$emit("list_updated"),a.$on("$destroy",j),$(window).trigger("resize")}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){a.state("business",{url:"/business",templateUrl:"app/accounts/business.html",controller:"AccountsBusinessCtrl"}).state("photos",{url:"/photos",templateUrl:"app/accounts/photos.html",controller:"AccountsPhotoCtrl"}).state("contact",{url:"/contact",templateUrl:"app/accounts/contact.html",controller:"AccountsContactCtrl"})}]),angular.module("localBusinessApp").controller("AdminDeleteModalInstanceCtrl",["$scope","$modalInstance","$log","user",function(a,b,c,d){a.user=d,a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("localBusinessApp").controller("AdminCtrl",["$scope","$http","$log","$modal","Auth","User",function(a,b,c,d,e,f){a.users=f.query(),a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],a.format=a.formats[2],a.today=function(){a.dt=new Date},a.today(),a.disabled=function(a,b){return"day"===b&&(0===a.getDay()||6===a.getDay())},a.toggleMin=function(){a.minDate=a.minDate?null:new Date},a.toggleMin(),a.opened=[],a.open=function(b,c){c.preventDefault(),c.stopPropagation(),a.opened[b]=!0},a.dateOptions={formatYear:"yy",startingDay:1},a["delete"]=function(b){var e=d.open({templateUrl:"app/admin/modal-delete.html",controller:"AdminDeleteModalInstanceCtrl",resolve:{user:function(){return b}}});e.result.then(function(){f.remove({id:b._id}),angular.forEach(a.users,function(c,d){c===b&&a.users.splice(d,1)})},function(){c.info("Delete user is aborted.")})},$(window).trigger("resize")}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminCtrl"})}]),angular.module("localBusinessApp").controller("ArticlesListCtrl",["$scope","$rootScope","$http","$location","paginator","Articles","$translate",function(a,b,c,d,e,f,g){var h=1;a.data={records:[]},a.pagination={next:!1,previous:!1,page:0,pageSize:0,total:0,numPages:0},a.paginator=e,f.get(h).then(function(b){var c=b.data;a.data.records=c.result,e.setPage(c.page),e.setPrevious(1===c.page),e.setNext(c.page===c.num_pages)}),a.previousPage=function(){f.get(e.getPage()-1).then(function(b){var c=b.data;a.data.records=c.result,e.setPage(c.page),e.setPrevious(1===c.page),e.setNext(c.page===c.num_pages)})},a.nextPage=function(){f.get(e.getPage()+1).then(function(b){console.log(b);var c=b.data;a.data.records=c.result,e.setPage(c.page),e.setPrevious(1===c.page),e.setNext(c.page===c.num_pages)})};var i=b.$on("list_updated",function(){f.get(h).then(function(b){var c=b.data;a.data.records=c.result,e.setPage(c.page),e.setPrevious(1===c.page),e.setNext(c.page===c.num_pages)})});a.$on("$destroy",i),$(window).trigger("resize"),a.changeLanguage=function(a){g.use(a)}}]),angular.module("localBusinessApp").controller("ArticlesItemCtrl",["$scope","$log","modalDeleteItem","Articles","Media","$state",function(a,b,c,d,e,f){a.deleteItem=function(g){c.open(function(){d.findOne(g._id).then(function(b){var c=b.data;if(a.record=c.result,a.record.media.length>0){for(var d=[],f=0;f<a.record.media.length;f++)d.push(a.record.media[f]._id);return e.deleteList(d)}return null}).then(function(){return d["delete"](g._id)}).then(function(){f.transitionTo("articles",{},{reload:!0})})["catch"](function(a){b.error("An error occured while deleting record ",a)})})}}]),angular.module("localBusinessApp").controller("ArticlesAddFormCtrl",["$scope","Articles","Media","$log","$q","$timeout","$state","ImageUploader",function(a,b,c,d,e,f,g,h){function i(){a.ui.inProgress=!0}function j(){a.ui.inProgress=!1}a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.onFileSelect=h.onFileSelectForAdd(a),a.deleteImage=function(b){console.log("Remove image at index: %i",b),a.data.uploadedImages.splice(b,1),a.ui.progress=0},a.save=function(){function f(c){var e={title:a.data.model.title,tags:a.data.model.tags,body:a.data.model.body,media:c};b.create(e).then(function(){a.$emit("list_updated"),g.transitionTo(g.current,{},{reload:!0})},function(){d.error("failed to add photo"),j()})}function h(){var b=[];for(var d in a.data.uploadedImages)b.push(c.create(a.data.uploadedImages[d]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}a.addForm.$valid&&(i(),a.data.uploadedImages.length>0?h():f([]))}}]),angular.module("localBusinessApp").controller("ArticlesUpdateFormCtrl",["$scope","$rootScope","$upload","Articles","$log","$q","$stateParams","$state","$location","Media","ImageUploader",function(a,b,c,d,e,f,g,h,i,j,k){function l(){a.ui.inProgress=!0}function m(b){var c;if(a.data.model.media.length>b)c=a.data.model.media[b]._id,a.trashbin.push(c),a.data.model.media.splice(b,1);else{var d=b-a.data.model.media.length;a.data.uploadedImages.splice(d,1)}a.ui.pictures.splice(b,1),a.ui.progress=0}a.trashbin=[],a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,d.findOne(g.id).then(function(b){var c=b.data;a.data.model=c.result,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)}),a.onFileSelect=k.onFileSelectForUpdateMulti(a),a.deleteImage=function(a){m(a)},a.update=function(){function c(c){var f=a.data.model.media.concat(c),g={title:a.data.model.title,tags:a.data.model.tags,body:a.data.model.body,media:f};d.update(a.data.model._id,g).then(function(){b.$emit("list_updated"),h.transitionTo("articles.details",{id:k})},function(a){e.error("response",a)})}function g(){var b=[];for(var d in a.data.uploadedImages)b.push(j.create(a.data.uploadedImages[d]));f.all(b).then(function(a){console.log(a);var b=[];for(var d in a)b.push(a[d].data.result._id);console.log("Media ids %o",b),c(b)})}function i(a){j["delete"](a).then(function(a){console.log(a)},function(a){console.log(a)})}if(a.updateForm.$valid){l();var k=a.data.model._id;a.data.uploadedImages.length>0?g():c([]);for(var m in a.trashbin)i(a.trashbin[m])}}}]),angular.module("localBusinessApp").controller("ArticlesDetailsCtrl",["$scope","$stateParams","Articles",function(a,b,c){a.data={model:{}},a.ui={},c.findOne(b.id).then(function(b){var c=b.data;a.data.model=c.result,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){var b={list:{url:"/articles",views:{"":{templateUrl:"app/articles/articles.html"},"leftPane@articles":{templateUrl:"app/articles/view-list.html",controller:"ArticlesListCtrl"}},authenticate:!0},add:{views:{"rightPane@articles":{templateUrl:"app/articles/form-add.html",controller:"ArticlesAddFormCtrl"}},authenticate:!0},update:{url:"/:id/edit",views:{"rightPane@articles":{templateUrl:"app/articles/form-update.html",controller:"ArticlesUpdateFormCtrl"}},authenticate:!0},details:{url:"/:id",views:{"rightPane@articles":{templateUrl:"app/articles/view-details.html",controller:"ArticlesDetailsCtrl"}},authenticate:!0}};a.state("articles",b.list).state("articles.add",b.add).state("articles.update",b.update).state("articles.details",b.details)}]),angular.module("localBusinessApp").controller("CatalogsListCtrl",["$scope","$rootScope","$http","paginator","Catalogs","$log",function(a,b,c,d,e,f){var g=1;a.data={records:[]},a.pagination={next:!1,previous:!1,page:0,pageSize:0,total:0,numPages:0},a.paginator=d,e.get({page:g}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)}),a.previousPage=function(){e.get({page:d.getPage()-1}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})},a.nextPage=function(){e.get({page:d.getPage()+1}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})};var h=b.$on("list_updated",function(){e.get({page:g}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})["catch"](function(){f.error("failed to fetch records")})});a.$on("$destroy",h),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("CatalogsItemCtrl",["$scope","$log","modalDeleteItem","Catalogs","Media","$state",function(a,b,c,d,e,f){a.deleteItem=function(g){c.open(function(){d.get({id:g._id}).$promise.then(function(b){if(a.record=b,a.record.media.length>0){for(var c=[],d=0;d<a.record.media.length;d++)c.push(a.record.media[d]._id);return e.deleteList(c)}return null}).then(function(){return d["delete"]({id:g._id})}).then(function(){f.transitionTo("catalogs",{},{reload:!0})})["catch"](function(a){b.error("Failed to delete record",a)})})}}]),angular.module("localBusinessApp").controller("CatalogsAddFormCtrl",["$scope","Catalogs","Media","$log","$q","$timeout","$state","ImageUploader",function(a,b,c,d,e,f,g,h){function i(){a.ui.inProgress=!0}function j(){a.ui.inProgress=!1}a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.onFileSelect=h.onFileSelectForAdd(a),a.deleteImage=function(b){console.log("Remove image at index: %i",b),a.data.uploadedImages.splice(b,1),a.ui.progress=0},a.save=function(){function f(c){var e={title:a.data.model.title,body:a.data.model.body,price:a.data.model.price,url:a.data.model.url,pdfUrl:a.data.model.pdfUrl,media:c};b.save(e).$promise.then(function(){a.$emit("list_updated"),g.transitionTo(g.current,{},{reload:!0})})["catch"](function(){d.error("failed to add photo"),j()})}function h(){var b=[];for(var d in a.data.uploadedImages)b.push(c.create(a.data.uploadedImages[d]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}a.addForm.$valid&&(i(),a.data.uploadedImages.length>0?h():f([]))}}]),angular.module("localBusinessApp").controller("CatalogsUpdateFormCtrl",["$scope","$rootScope","Catalogs","$log","$q","$stateParams","$state","Media","ImageUploader",function(a,b,c,d,e,f,g,h,i){function j(){a.ui.inProgress=!0}function k(){a.ui.inProgress=!1}function l(b){var c;if(a.data.model.media.length>b)c=a.data.model.media[b]._id,a.trashbin.push(c),a.data.model.media.splice(b,1);else{var d=b-a.data.model.media.length;a.data.uploadedImages.splice(d,1)}a.ui.pictures.splice(b,1),a.ui.progress=0}a.trashbin=[],a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,c.get({id:f.id}).$promise.then(function(b){var c=b;a.data.model=c,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)})["catch"](function(a){d.error("failed to fetch record",a)}),a.onFileSelect=i.onFileSelectForUpdateMulti(a),a.deleteImage=function(a){l(a)},a.update=function(){function b(b){var c=a.data.model.media.concat(b);a.data.model.media=c,a.data.model.$save().then(function(b){a.$emit("list_updated"),g.transitionTo("catalogs.details",{id:b._id},{reload:!0})})["catch"](function(a){d.error("failed to save record",a),k()})}function c(){var c=[];for(var d in a.data.uploadedImages)c.push(h.create(a.data.uploadedImages[d]));e.all(c).then(function(a){var c=[];for(var d in a)c.push(a[d].data.result._id);console.log("Media ids %o",c),b(c)})}function f(a){h["delete"](a).then(function(a){console.log(a)},function(a){console.log(a)})}if(a.updateForm.$valid){j();a.data.model._id;a.data.uploadedImages.length>0?c():b([]);for(var i in a.trashbin)f(a.trashbin[i])}}}]),angular.module("localBusinessApp").controller("CatalogsDetailsCtrl",["$scope","$stateParams","$log","Catalogs",function(a,b,c,d){a.data={model:{}},d.get({id:b.id}).$promise.then(function(b){var c=b;a.data.model=c,a.data.model.pictures=[];for(var d in a.data.model.media)a.data.model.pictures.push(a.data.model.media[d].uri)})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){var b={list:{url:"/catalogs",views:{"":{templateUrl:"app/catalogs/catalogs.html"},"leftPane@catalogs":{templateUrl:"app/catalogs/view-list.html",controller:"CatalogsListCtrl"}},authenticate:!0},add:{views:{"rightPane@catalogs":{templateUrl:"app/catalogs/form-add.html",controller:"CatalogsAddFormCtrl"}},authenticate:!0},update:{url:"/:id/edit",views:{"rightPane@catalogs":{templateUrl:"app/catalogs/form-update.html",controller:"CatalogsUpdateFormCtrl"}},authenticate:!0},details:{url:"/:id",views:{"rightPane@catalogs":{templateUrl:"app/catalogs/view-details.html",controller:"CatalogsDetailsCtrl"}},authenticate:!0}};a.state("catalogs",b.list).state("catalogs.add",b.add).state("catalogs.update",b.update).state("catalogs.details",b.details)}]),angular.module("localBusinessApp").controller("ClientsListCtrl",["$scope","$rootScope","$http","$location","Clients",function(a,b,c,d,e){a.data={records:[]},e.get().$promise.then(function(b){a.data.records=b.result});var f=b.$on("list_updated",function(){e.get().$promise.then(function(b){a.data.records=b.result})});a.$on("$destroy",f),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("ClientsAddFormCtrl",["$scope","Clients","$log","$timeout","$state",function(a,b,c,d,e){function f(){a.ui.inProgress=!0}a.data={model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.save=function(){if(a.addForm.$valid){f();var d={name:a.data.model.name,clientId:a.data.model.clientId,clientSecret:a.data.model.clientSecret};b.save(d).$promise.then(function(){a.$emit("list_updated"),e.transitionTo(e.current,{},{reload:!0})})["catch"](function(a){c.error("failed to add record")})}},a.generateKeys=function(){b.generateKeys().$promise.then(function(b){a.credentials=b.result,a.data.model.clientId=a.credentials.clientId,a.data.model.clientSecret=a.credentials.clientSecret})["catch"](function(a){c.error("failed to get the credentials")})}}]),angular.module("localBusinessApp").controller("ClientsUpdateFormCtrl",["$scope","$rootScope","Clients","$log","$stateParams","$state",function(a,b,c,d,e,f){function g(){a.ui.inProgress=!0}function h(){a.ui.inProgress=!1}a.data={model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,c.get({id:e.id}).$promise.then(function(b){a.data.model=b})["catch"](function(a){d.error("failed to fetch record",a)}),a.update=function(){a.updateForm.$valid&&(g(),a.data.model.$save(function(b){a.$emit("list_updated"),f.transitionTo("clients.details",{id:b._id},{reload:!0})},function(a){d.error("failed to save record",a),h()}))},a.generateKeys=function(){c.generateKeys().$promise.then(function(b){a.credentials=b.result,a.data.model.clientId=a.credentials.clientId,a.data.model.clientSecret=a.credentials.clientSecret})["catch"](function(a){d.error("failed to get the credentials",a)})}}]),angular.module("localBusinessApp").controller("ClientsItemCtrl",["$scope","$log","modalDeleteItem","Clients","$state",function(a,b,c,d,e){a.deleteItem=function(a){c.open(function(){d["delete"]({id:a._id}).$promise.then(function(){e.transitionTo("clients",{},{reload:!0})})["catch"](function(a){b.error("An error occured while deleting record ",a)})})}}]),angular.module("localBusinessApp").controller("ClientsDetailsCtrl",["$scope","$stateParams","Clients",function(a,b,c){a.data={model:{}},c.get({id:b.id}).$promise.then(function(b){a.data.model=b})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){var b={list:{url:"/clients",views:{"":{templateUrl:"app/clients/clients.html"},"leftPane@clients":{templateUrl:"app/clients/view-list.html",controller:"ClientsListCtrl"}},authenticate:!0},add:{views:{"rightPane@clients":{templateUrl:"app/clients/form-add.html",controller:"ClientsAddFormCtrl"}},authenticate:!0},update:{url:"/:id/edit",views:{"rightPane@clients":{templateUrl:"app/clients/form-update.html",controller:"ClientsUpdateFormCtrl"}},authenticate:!0},details:{url:"/:id",views:{"rightPane@clients":{templateUrl:"app/clients/view-details.html",controller:"ClientsDetailsCtrl"}},authenticate:!0}};a.state("clients",b.list).state("clients.add",b.add).state("clients.update",b.update).state("clients.details",b.details)}]),angular.module("localBusinessApp").controller("GalleriesListCtrl",["$scope","$rootScope","$http","paginator","Galleries","$log",function(a,b,c,d,e,f){var g=1;a.data={records:[]},a.pagination={next:!1,previous:!1,page:0,pageSize:0,total:0,numPages:0},a.paginator=d,e.get({page:g}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)}),a.previousPage=function(){e.get({page:d.getPage()-1}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})},a.nextPage=function(){e.get({page:d.getPage()+1}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})};var h=b.$on("list_updated",function(){e.get({page:g}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})["catch"](function(){f.error("failed to fetch records")})});a.$on("$destroy",h),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("GalleriesItemCtrl",["$scope","$log","modalDeleteItem","Galleries","Media","$state",function(a,b,c,d,e,f){a.deleteItem=function(g){c.open(function(){d.get({id:g._id}).$promise.then(function(b){if(a.record=b,a.record.media.length>0){for(var c=[],d=0;d<a.record.media.length;d++)c.push(a.record.media[d]._id);return e.deleteList(c)}return null}).then(function(){return d["delete"]({id:g._id})}).then(function(){f.transitionTo("galleries",{},{reload:!0})})["catch"](function(a){b.error("Failed to delete record",a)})})}}]),angular.module("localBusinessApp").controller("GalleriesAddFormCtrl",["$scope","Galleries","Media","$log","$q","$timeout","$state","ImageUploader",function(a,b,c,d,e,f,g,h){function i(){a.ui.inProgress=!0}function j(){a.ui.inProgress=!1}a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.onFileSelect=h.onFileSelectForAdd(a),a.deleteImage=function(b){console.log("Remove image at index: %i",b),a.data.uploadedImages.splice(b,1),a.ui.progress=0},a.save=function(){function f(c){var e={title:a.data.model.title,body:a.data.model.body,media:c};b.save(e).$promise.then(function(){a.$emit("list_updated"),g.transitionTo(g.current,{},{reload:!0})})["catch"](function(){d.error("failed to add photo"),j()})}function h(){var b=[];for(var d in a.data.uploadedImages)b.push(c.create(a.data.uploadedImages[d]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}a.addForm.$valid&&(i(),a.data.uploadedImages.length>0?h():f([]))}}]),angular.module("localBusinessApp").controller("GalleriesUpdateFormCtrl",["$scope","$rootScope","Galleries","$log","$q","$stateParams","$state","Media","ImageUploader",function(a,b,c,d,e,f,g,h,i){function j(){a.ui.inProgress=!0}function k(){a.ui.inProgress=!1}function l(b){var c;if(a.data.model.media.length>b)c=a.data.model.media[b]._id,a.trashbin.push(c),a.data.model.media.splice(b,1);else{var d=b-a.data.model.media.length;a.data.uploadedImages.splice(d,1)}a.ui.pictures.splice(b,1),a.ui.progress=0}a.trashbin=[],a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,c.get({id:f.id}).$promise.then(function(b){var c=b;a.data.model=c,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)})["catch"](function(a){d.error("failed to fetch record",a)}),a.onFileSelect=i.onFileSelectForUpdateMulti(a),a.deleteImage=function(a){l(a)},a.update=function(){function b(b){var c=a.data.model.media.concat(b);a.data.model.media=c,a.data.model.$save().then(function(b){a.$emit("list_updated"),g.transitionTo("galleries.details",{id:b._id},{reload:!0})})["catch"](function(a){d.error("failed to save record",a),k()})}function c(){var c=[];for(var d in a.data.uploadedImages)c.push(h.create(a.data.uploadedImages[d]));e.all(c).then(function(a){var c=[];for(var d in a)c.push(a[d].data.result._id);console.log("Media ids %o",c),b(c)})}function f(a){h["delete"](a).then(function(a){console.log(a)},function(a){console.log(a)})}if(a.updateForm.$valid){j();a.data.model._id;a.data.uploadedImages.length>0?c():b([]);for(var i in a.trashbin)f(a.trashbin[i])}}}]),angular.module("localBusinessApp").controller("GalleriesDetailsCtrl",["$scope","$stateParams","$log","Galleries",function(a,b,c,d){a.data={model:{}},d.get({id:b.id}).$promise.then(function(b){var c=b;a.data.model=c,a.data.model.pictures=[];for(var d in a.data.model.media)a.data.model.pictures.push(a.data.model.media[d].uri)})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){var b={list:{url:"/galleries",views:{"":{templateUrl:"app/galleries/galleries.html"},"leftPane@galleries":{templateUrl:"app/galleries/view-list.html",controller:"GalleriesListCtrl"}},authenticate:!0},add:{views:{"rightPane@galleries":{templateUrl:"app/galleries/form-add.html",controller:"GalleriesAddFormCtrl"}},authenticate:!0},update:{url:"/:id/edit",views:{"rightPane@galleries":{templateUrl:"app/galleries/form-update.html",controller:"GalleriesUpdateFormCtrl"}},authenticate:!0},details:{url:"/:id",views:{"rightPane@galleries":{templateUrl:"app/galleries/view-details.html",controller:"GalleriesDetailsCtrl"}},authenticate:!0}};a.state("galleries",b.list).state("galleries.add",b.add).state("galleries.update",b.update).state("galleries.details",b.details)}]),angular.module("localBusinessApp").controller("MainCtrl",["$scope","Auth",function(a,b){a.currentUser=b.getCurrentUser(),a.isAdmin=b.isAdmin,a.date=new Date,$(window).trigger("resize")}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",authenticate:!0})}]),angular.module("localBusinessApp").controller("PagesListCtrl",["$scope","$rootScope","$http","paginator","Pages",function(a,b,c,d,e){
var f=1;a.data={records:[]},a.pagination={next:!1,previous:!1,page:0,pageSize:0,total:0,numPages:0},a.paginator=d,e.get(f).then(function(b){var c=b.data;a.data.records=c.result,d.setPage(c.page),d.setPrevious(1===c.page),d.setNext(c.page===c.num_pages)}),a.previousPage=function(){e.get(d.getPage()-1).then(function(b){var c=b.data;a.data.records=c.result,d.setPage(c.page),d.setPrevious(1===c.page),d.setNext(c.page===c.num_pages)})},a.nextPage=function(){e.get(d.getPage()+1).then(function(b){var c=b.data;a.data.records=c.result,d.setPage(c.page),d.setPrevious(1===c.page),d.setNext(c.page===c.num_pages)})};var g=b.$on("list_updated",function(){e.get(f).then(function(b){var c=b.data;a.data.records=c.result,d.setPage(c.page),d.setPrevious(1===c.page),d.setNext(c.page===c.num_pages)})});a.$on("$destroy",g),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("PagesItemCtrl",["$scope","$log","modalDeleteItem","Pages","Media","$state",function(a,b,c,d,e,f){a.deletePage=function(g){c.open(function(){d.findOne(g._id).then(function(b){var c=b.data;if(a.record=c.result,a.record.media.length>0){for(var d=[],f=0;f<a.record.media.length;f++)d.push(a.record.media[f]._id);return e.deleteList(d)}return null}).then(function(){return d["delete"](g._id)}).then(function(){f.transitionTo("pages",{},{reload:!0})})["catch"](function(a){b.error("Failed to delete record",a)})})}}]),angular.module("localBusinessApp").controller("PagesAddFormCtrl",["$scope","Pages","Media","$log","$q","$timeout","$state","ImageUploader",function(a,b,c,d,e,f,g,h){function i(){a.ui.inProgress=!0}function j(){a.ui.inProgress=!1}a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.onFileSelect=h.onFileSelectForAdd(a),a.deleteImage=function(b){console.log("Remove image at index: %i",b),a.data.uploadedImages.splice(b,1),a.ui.progress=0},a.save=function(){function f(c){var e={title:a.data.model.title,teaser:a.data.model.teaser,body:a.data.model.body,media:c};b.create(e).then(function(){a.$emit("list_updated"),g.transitionTo(g.current,{},{reload:!0})},function(){d.error("failed to add photo"),j()})}function h(){var b=[];for(var d in a.data.uploadedImages)b.push(c.create(a.data.uploadedImages[d]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}a.addForm.$valid&&(i(),a.data.uploadedImages.length>0?h():f([]))}}]),angular.module("localBusinessApp").controller("PagesUpdateFormCtrl",["$scope","$rootScope","Pages","$log","$q","$stateParams","$state","Media","ImageUploader",function(a,b,c,d,e,f,g,h,i){function j(){a.ui.inProgress=!0}function k(b){var c;if(a.data.model.media.length>b)c=a.data.model.media[b]._id,a.trashbin.push(c),a.data.model.media.splice(b,1);else{var d=b-a.data.model.media.length;a.data.uploadedImages.splice(d,1)}a.ui.pictures.splice(b,1),a.ui.progress=0}a.trashbin=[],a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,c.findOne(f.id).then(function(b){var c=b.data;a.data.model=c.result,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)}),a.onFileSelect=i.onFileSelectForUpdateMulti(a),a.deleteImage=function(a){k(a)},a.update=function(){function f(e){var f=a.data.model.media.concat(e),h={title:a.data.model.title,teaser:a.data.model.teaser,body:a.data.model.body,media:f};c.update(a.data.model._id,h).then(function(){b.$emit("list_updated"),g.transitionTo("pages.details",{id:l})},function(a){d.error("response",a)})}function i(){var b=[];for(var c in a.data.uploadedImages)b.push(h.create(a.data.uploadedImages[c]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}function k(a){h["delete"](a).then(function(a){console.log(a)},function(a){console.log(a)})}if(a.updateForm.$valid){j();var l=a.data.model._id;a.data.uploadedImages.length>0?i():f([]);for(var m in a.trashbin)k(a.trashbin[m])}}}]),angular.module("localBusinessApp").controller("PagesDetailsCtrl",["$scope","$stateParams","$log","Pages",function(a,b,c,d){a.data={model:{}},d.findOne(b.id).then(function(b){var c=b.data;a.data.model=c.result,a.data.model.pictures=[];for(var d in a.data.model.media)a.data.model.pictures.push(a.data.model.media[d].uri)})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){var b={list:{url:"/pages",views:{"":{templateUrl:"app/pages/pages.html"},"leftPane@pages":{templateUrl:"app/pages/view-list.html",controller:"PagesListCtrl"}},authenticate:!0},add:{views:{"rightPane@pages":{templateUrl:"app/pages/form-add.html",controller:"PagesAddFormCtrl"}},authenticate:!0},update:{url:"/:id/edit",views:{"rightPane@pages":{templateUrl:"app/pages/form-update.html",controller:"PagesUpdateFormCtrl"}},authenticate:!0},details:{url:"/:id",views:{"rightPane@pages":{templateUrl:"app/pages/view-details.html",controller:"PagesDetailsCtrl"}},authenticate:!0}};a.state("pages",b.list).state("pages.add",b.add).state("pages.update",b.update).state("pages.details",b.details)}]),angular.module("localBusinessApp").controller("ProductsListCtrl",["$scope","$rootScope","$http","paginator","Products","$log",function(a,b,c,d,e,f){var g=1;a.data={records:[]},a.pagination={next:!1,previous:!1,page:0,pageSize:0,total:0,numPages:0},a.paginator=d,e.get({page:g}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)}),a.previousPage=function(){e.get({page:d.getPage()-1}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})},a.nextPage=function(){e.get({page:d.getPage()+1}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})};var h=b.$on("list_updated",function(){e.get({page:g}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})["catch"](function(){f.error("failed to fetch records")})});a.$on("$destroy",h),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("ProductsItemCtrl",["$scope","$log","modalDeleteItem","Products","Media","$state",function(a,b,c,d,e,f){a.deleteItem=function(g){c.open(function(){d.get({id:g._id}).$promise.then(function(b){if(a.record=b,a.record.media.length>0){for(var c=[],d=0;d<a.record.media.length;d++)c.push(a.record.media[d]._id);return e.deleteList(c)}return null}).then(function(){return d["delete"]({id:g._id})}).then(function(){f.transitionTo("products",{},{reload:!0})})["catch"](function(a){b.error("Failed to delete record",a)})})}}]),angular.module("localBusinessApp").controller("ProductsAddFormCtrl",["$scope","Products","Media","$log","$q","$timeout","$state","ImageUploader",function(a,b,c,d,e,f,g,h){function i(){a.ui.inProgress=!0}function j(){a.ui.inProgress=!1}a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.onFileSelect=h.onFileSelectForAdd(a),a.deleteImage=function(b){console.log("Remove image at index: %i",b),a.data.uploadedImages.splice(b,1),a.ui.progress=0},a.save=function(){function f(c){var e={title:a.data.model.title,body:a.data.model.body,price:a.data.model.price,url:a.data.model.url,media:c};b.save(e).$promise.then(function(){a.$emit("list_updated"),g.transitionTo(g.current,{},{reload:!0})})["catch"](function(){d.error("failed to add photo"),j()})}function h(){var b=[];for(var d in a.data.uploadedImages)b.push(c.create(a.data.uploadedImages[d]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}a.addForm.$valid&&(i(),a.data.uploadedImages.length>0?h():f([]))}}]),angular.module("localBusinessApp").controller("ProductsUpdateFormCtrl",["$scope","$rootScope","Products","$log","$q","$stateParams","$state","Media","ImageUploader",function(a,b,c,d,e,f,g,h,i){function j(){a.ui.inProgress=!0}function k(){a.ui.inProgress=!1}function l(b){var c;if(a.data.model.media.length>b)c=a.data.model.media[b]._id,a.trashbin.push(c),a.data.model.media.splice(b,1);else{var d=b-a.data.model.media.length;a.data.uploadedImages.splice(d,1)}a.ui.pictures.splice(b,1),a.ui.progress=0}a.trashbin=[],a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,c.get({id:f.id}).$promise.then(function(b){var c=b;a.data.model=c,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)})["catch"](function(a){d.error("failed to fetch record",a)}),a.onFileSelect=i.onFileSelectForUpdateMulti(a),a.deleteImage=function(a){l(a)},a.update=function(){function b(b){var c=a.data.model.media.concat(b);a.data.model.media=c,a.data.model.$save().then(function(b){a.$emit("list_updated"),g.transitionTo("products.details",{id:b._id},{reload:!0})})["catch"](function(a){d.error("failed to save record",a),k()})}function c(){var c=[];for(var d in a.data.uploadedImages)c.push(h.create(a.data.uploadedImages[d]));e.all(c).then(function(a){var c=[];for(var d in a)c.push(a[d].data.result._id);console.log("Media ids %o",c),b(c)})}function f(a){h["delete"](a).then(function(a){console.log(a)},function(a){console.log(a)})}if(a.updateForm.$valid){j();a.data.model._id;a.data.uploadedImages.length>0?c():b([]);for(var i in a.trashbin)f(a.trashbin[i])}}}]),angular.module("localBusinessApp").controller("ProductsDetailsCtrl",["$scope","$stateParams","$log","Products",function(a,b,c,d){a.data={model:{}},d.get({id:b.id}).$promise.then(function(b){var c=b;a.data.model=c,a.data.model.pictures=[];for(var d in a.data.model.media)a.data.model.pictures.push(a.data.model.media[d].uri)})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){var b={list:{url:"/products",views:{"":{templateUrl:"app/products/products.html"},"leftPane@products":{templateUrl:"app/products/view-list.html",controller:"ProductsListCtrl"}},authenticate:!0},add:{views:{"rightPane@products":{templateUrl:"app/products/form-add.html",controller:"ProductsAddFormCtrl"}},authenticate:!0},update:{url:"/:id/edit",views:{"rightPane@products":{templateUrl:"app/products/form-update.html",controller:"ProductsUpdateFormCtrl"}},authenticate:!0},details:{url:"/:id",views:{"rightPane@products":{templateUrl:"app/products/view-details.html",controller:"ProductsDetailsCtrl"}},authenticate:!0}};a.state("products",b.list).state("products.add",b.add).state("products.update",b.update).state("products.details",b.details)}]),angular.module("localBusinessApp").controller("PushCtrl",["$scope","$http","$window",function(a,b,c){a.push={},a.send=function(){var d="";b.post("https://api.cloud.appcelerator.com/v1/users/login.json?key="+d+"&pretty_json=true",{login:"skounis@gmail.com",password:"password"}).success(function(e){console.log(e);var f=e.meta.session_id,g="https://api.cloud.appcelerator.com/v1/push_notification/notify.json?key="+d+"&pretty_json=true&_session_id="+f,h={payload:a.push.message,to_ids:"everyone",channel:a.push.channel};b.post(g,h).success(function(a,b,d,e){console.log(a),console.log(b),console.log(d),console.log(e),c.alert("Message sent.")}).error(function(a,b,d,e){console.log(a),console.log(b),console.log(d),console.log(e),c.alert("An error occurred.")})})},$(window).trigger("resize")}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){a.state("push",{url:"/push",templateUrl:"app/push/push.html",controller:"PushCtrl"})}]),angular.module("localBusinessApp").controller("ReviewsListCtrl",["$scope","$rootScope","$http","paginator","Reviews",function(a,b,c,d,e){var f=1;a.data={records:[]},a.pagination={next:!1,previous:!1,page:0,pageSize:0,total:0,numPages:0},a.paginator=d,e.get(f).then(function(b){var c=b.data;a.data.records=c.result,d.setPage(c.page),d.setPrevious(1===c.page),d.setNext(c.page===c.num_pages)}),a.previousPage=function(){e.get(d.getPage()-1).then(function(b){var c=b.data;a.data.records=c.result,d.setPage(c.page),d.setPrevious(1===c.page),d.setNext(c.page===c.num_pages)})},a.nextPage=function(){e.get(d.getPage()+1).then(function(b){var c=b.data;a.data.records=c.result,d.setPage(c.page),d.setPrevious(1===c.page),d.setNext(c.page===c.num_pages)})};var g=b.$on("list_updated",function(){e.get(f).then(function(b){var c=b.data;a.data.records=c.result,d.setPage(c.page),d.setPrevious(1===c.page),d.setNext(c.page===c.num_pages)})});a.$on("$destroy",g),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("ReviewsItemCtrl",["$scope","$log","Reviews","Media","$state","modalDeleteItem",function(a,b,c,d,e,f){a.deleteReview=function(g){f.open(function(){c.findOne(g._id).then(function(b){var c=b.data;if(a.record=c.result,a.record.media.length>0){for(var e=[],f=0;f<a.record.media.length;f++)e.push(a.record.media[f]._id);return d.deleteList(e)}return null}).then(function(){return c["delete"](g._id)}).then(function(){e.transitionTo("reviews",{},{reload:!0})})["catch"](function(a){b.error("An error occured while deleting record ",a)})})}}]),angular.module("localBusinessApp").controller("ReviewsAddFormCtrl",["$scope","Reviews","Media","$log","$q","$timeout","$state","ImageUploader",function(a,b,c,d,e,f,g,h){function i(){a.ui.inProgress=!0}function j(){a.ui.inProgress=!1}a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.onFileSelect=h.onFileSelectForAdd(a),a.deleteImage=function(b){console.log("Remove image at index: %i",b),a.data.uploadedImages.splice(b,1),a.ui.progress=0},a.save=function(){function f(c){var e={title:a.data.model.title,teaser:a.data.model.teaser,body:a.data.model.body,media:c};b.create(e).then(function(){a.$emit("list_updated"),g.transitionTo(g.current,{},{reload:!0})},function(){d.error("failed to add photo"),j()})}function h(){var b=[];for(var d in a.data.uploadedImages)b.push(c.create(a.data.uploadedImages[d]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}a.addForm.$valid&&(i(),a.data.uploadedImages.length>0?h():f([]))}}]),angular.module("localBusinessApp").controller("ReviewsUpdateFormCtrl",["$scope","$rootScope","Reviews","$log","$q","$stateParams","$state","Media","ImageUploader",function(a,b,c,d,e,f,g,h,i){function j(){a.ui.inProgress=!0}function k(b){var c;if(a.data.model.media.length>b)c=a.data.model.media[b]._id,a.trashbin.push(c),a.data.model.media.splice(b,1);else{var d=b-a.data.model.media.length;a.data.uploadedImages.splice(d,1)}a.ui.pictures.splice(b,1),a.ui.progress=0}a.trashbin=[],a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,c.findOne(f.id).then(function(b){var c=b.data;a.data.model=c.result,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)}),a.onFileSelect=i.onFileSelectForUpdateMulti(a),a.deleteImage=function(a){k(a)},a.update=function(){function f(e){var f=a.data.model.media.concat(e),h={title:a.data.model.title,teaser:a.data.model.teaser,body:a.data.model.body,media:f};c.update(a.data.model._id,h).then(function(){b.$emit("list_updated"),g.transitionTo("reviews.details",{id:l})},function(a){d.error("response",a)})}function i(){var b=[];for(var c in a.data.uploadedImages)b.push(h.create(a.data.uploadedImages[c]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}function k(a){h["delete"](a).then(function(a){console.log(a)},function(a){console.log(a)})}if(a.updateForm.$valid){j();var l=a.data.model._id;a.data.uploadedImages.length>0?i():f([]);for(var m in a.trashbin)k(a.trashbin[m])}}}]),angular.module("localBusinessApp").controller("ReviewsDetailsCtrl",["$scope","$stateParams","$log","Reviews",function(a,b,c,d){a.data={model:{}},a.ui={},d.findOne(b.id).then(function(b){var c=b.data;a.data.model=c.result,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){var b={list:{url:"/reviews",views:{"":{templateUrl:"app/reviews/reviews.html"},"leftPane@reviews":{templateUrl:"app/reviews/view-list.html",controller:"ReviewsListCtrl"}},authenticate:!0},add:{views:{"rightPane@reviews":{templateUrl:"app/reviews/form-add.html",controller:"ReviewsAddFormCtrl"}},authenticate:!0},update:{url:"/:id/edit",views:{"rightPane@reviews":{templateUrl:"app/reviews/form-update.html",controller:"ReviewsUpdateFormCtrl"}},authenticate:!0},details:{url:"/:id",views:{"rightPane@reviews":{templateUrl:"app/reviews/view-details.html",controller:"ReviewsDetailsCtrl"}},authenticate:!0}};a.state("reviews",b.list).state("reviews.add",b.add).state("reviews.update",b.update).state("reviews.details",b.details)}]),angular.module("localBusinessApp").controller("ServicesListCtrl",["$scope","$rootScope","$http","paginator","Services","$log",function(a,b,c,d,e,f){var g=1;a.data={records:[]},a.pagination={next:!1,previous:!1,page:0,pageSize:0,total:0,numPages:0},a.paginator=d,e.get({page:g}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)}),a.previousPage=function(){e.get({page:d.getPage()-1}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})},a.nextPage=function(){e.get({page:d.getPage()+1}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})};var h=b.$on("list_updated",function(){e.get({page:g}).$promise.then(function(b){var c=b.result;a.data.records=c,d.setPage(b.page),d.setPrevious(1===b.page),d.setNext(b.page===b.num_pages)})["catch"](function(){f.error("failed to fetch records")})});a.$on("$destroy",h),$(window).trigger("resize")}]),angular.module("localBusinessApp").controller("ServicesItemCtrl",["$scope","$log","modalDeleteItem","Services","Media","$state",function(a,b,c,d,e,f){a.deleteItem=function(g){c.open(function(){d.get({id:g._id}).$promise.then(function(b){if(a.record=b,a.record.media.length>0){for(var c=[],d=0;d<a.record.media.length;d++)c.push(a.record.media[d]._id);return e.deleteList(c)}return null}).then(function(){return d["delete"]({id:g._id})}).then(function(){f.transitionTo("services",{},{reload:!0})})["catch"](function(a){b.error("Failed to delete record",a)})})}}]),angular.module("localBusinessApp").controller("ServicesAddFormCtrl",["$scope","Services","Media","$log","$q","$timeout","$state","ImageUploader",function(a,b,c,d,e,f,g,h){function i(){a.ui.inProgress=!0}function j(){a.ui.inProgress=!1}a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,a.onFileSelect=h.onFileSelectForAdd(a),a.deleteImage=function(b){console.log("Remove image at index: %i",b),a.data.uploadedImages.splice(b,1),a.ui.progress=0},a.save=function(){function f(c){var e={title:a.data.model.title,body:a.data.model.body,url:a.data.model.url,media:c};b.save(e).$promise.then(function(){a.$emit("list_updated"),g.transitionTo(g.current,{},{reload:!0})})["catch"](function(){d.error("failed to add photo"),j()})}function h(){var b=[];for(var d in a.data.uploadedImages)b.push(c.create(a.data.uploadedImages[d]));e.all(b).then(function(a){console.log(a);var b=[];for(var c in a)b.push(a[c].data.result._id);console.log("Media ids %o",b),f(b)})}a.addForm.$valid&&(i(),a.data.uploadedImages.length>0?h():f([]))}}]),angular.module("localBusinessApp").controller("ServicesUpdateFormCtrl",["$scope","$rootScope","Services","$log","$q","$stateParams","$state","Media","ImageUploader",function(a,b,c,d,e,f,g,h,i){function j(){a.ui.inProgress=!0}function k(){a.ui.inProgress=!1}function l(b){var c;if(a.data.model.media.length>b)c=a.data.model.media[b]._id,a.trashbin.push(c),a.data.model.media.splice(b,1);else{var d=b-a.data.model.media.length;a.data.uploadedImages.splice(d,1)}a.ui.pictures.splice(b,1),a.ui.progress=0}a.trashbin=[],a.data={uploadedImages:[],model:{}},a.ui={},a.ui.progress=0,a.ui.inProgress=!1,c.get({id:f.id}).$promise.then(function(b){var c=b;a.data.model=c,a.ui.pictures=[];for(var d in a.data.model.media)a.ui.pictures.push(a.data.model.media[d].uri)})["catch"](function(a){d.error("failed to fetch record",a)}),a.onFileSelect=i.onFileSelectForUpdateMulti(a),a.deleteImage=function(a){l(a)},a.update=function(){function b(b){var c=a.data.model.media.concat(b);a.data.model.media=c,a.data.model.$save().then(function(b){a.$emit("list_updated"),g.transitionTo("services.details",{id:b._id},{reload:!0})})["catch"](function(a){d.error("failed to save record",a),k()})}function c(){var c=[];for(var d in a.data.uploadedImages)c.push(h.create(a.data.uploadedImages[d]));e.all(c).then(function(a){var c=[];for(var d in a)c.push(a[d].data.result._id);console.log("Media ids %o",c),b(c)})}function f(a){h["delete"](a).then(function(a){console.log(a)},function(a){console.log(a)})}if(a.updateForm.$valid){j();a.data.model._id;a.data.uploadedImages.length>0?c():b([]);for(var i in a.trashbin)f(a.trashbin[i])}}}]),angular.module("localBusinessApp").controller("ServicesDetailsCtrl",["$scope","$stateParams","$log","Services",function(a,b,c,d){a.data={model:{}},d.get({id:b.id}).$promise.then(function(b){var c=b;a.data.model=c,a.data.model.pictures=[];for(var d in a.data.model.media)a.data.model.pictures.push(a.data.model.media[d].uri)})}]),angular.module("localBusinessApp").config(["$stateProvider",function(a){var b={list:{url:"/services",views:{"":{templateUrl:"app/services/services.html"},"leftPane@services":{templateUrl:"app/services/view-list.html",controller:"ServicesListCtrl"}},authenticate:!0},add:{views:{"rightPane@services":{templateUrl:"app/services/form-add.html",controller:"ServicesAddFormCtrl"}},authenticate:!0},update:{url:"/:id/edit",views:{"rightPane@services":{templateUrl:"app/services/form-update.html",controller:"ServicesUpdateFormCtrl"}},authenticate:!0},details:{url:"/:id",views:{"rightPane@services":{templateUrl:"app/services/view-details.html",controller:"ServicesDetailsCtrl"}},authenticate:!0}};a.state("services",b.list).state("services.add",b.add).state("services.update",b.update).state("services.details",b.details)}]),angular.module("localBusinessApp").service("Accounts",["API","$http",function(a,b){var c=a.url+a.endpoint.accounts;return{initialize:function(a){var d={createdBy:a,business:{name:"",description:"",hours:"",website:"",email:"",address:"",city:"",zipcode:"",latlong:"",zoom:""},contact:{name:"",phone:"",email:""},offers:{active:!0},media:[],createdAt:Date.now(),modifiedAt:Date.now()};return b.post(c,d)},update:function(a,d){return b.put(c+a,d)},get:function(a){return b.get(c,{params:{page:a}})},findOne:function(a){return b.get(c+a)},getForUser:function(a){return b.get(c+"search/"+a)}}}]),angular.module("localBusinessApp").factory("Articles",["API","$http",function(a,b){var c=a.url+a.endpoint.articles;return{create:function(a){return b.post(c,a)},get:function(a){return b.get(c,{params:{page:a}})},update:function(a,d){return b.put(c+a,d)},findOne:function(a){return b.get(c+a)},"delete":function(a){return b["delete"](c+a)}}}]),angular.module("localBusinessApp").factory("Auth",["$location","$rootScope","$http","User","$cookieStore","$q",function(a,b,c,d,e,f){var g={};return e.get("token")&&(g=d.get()),{login:function(a,b){var h=b||angular.noop,i=f.defer();return c.post("/auth/local",{email:a.email,password:a.password}).success(function(a){return e.put("token",a.token),g=d.get(),i.resolve(a),h()}).error(function(a){return this.logout(),i.reject(a),h(a)}.bind(this)),i.promise},forgot:function(a,b){var d=b||angular.noop,e=f.defer();return c.post("/auth/local/forgot",{email:a}).success(function(a){return e.resolve(a),d()}).error(function(a){return e.reject(a),d(a)}.bind(this)),e.promise},reset:function(a,b){var d=b||angular.noop,e=f.defer();return c.post("/auth/local/reset",{password:a.password,token:a.token}).success(function(a){return e.resolve(a),d()}).error(function(a){return e.reject(a),d(a)}.bind(this)),e.promise},logout:function(){e.remove("token"),g={}},createUser:function(a,b){var c=b||angular.noop;return d.save(a,function(b){return e.put("token",b.token),g=d.get(),c(a)},function(a){return this.logout(),c(a)}.bind(this)).$promise},createUserByAdmin:function(a,b){var c=b||angular.noop;return d.save(a,function(){return c(a)},function(a){return c(a)}.bind(this)).$promise},changePassword:function(a,b,c){var e=c||angular.noop;return d.changePassword({id:g._id},{oldPassword:a,newPassword:b},function(a){return e(a)},function(a){return e(a)}).$promise},getCurrentUser:function(){return g},isLoggedIn:function(){return g.hasOwnProperty("role")},isLoggedInAsync:function(a){g.hasOwnProperty("$promise")?g.$promise.then(function(){a(!0)})["catch"](function(){a(!1)}):a(g.hasOwnProperty("role")?!0:!1)},isAdmin:function(){return"admin"===g.role},getToken:function(){return e.get("token")}}}]),angular.module("localBusinessApp").factory("User",["$resource",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}},show:{method:"GET",params:{controller:"show"}}})}]),angular.module("localBusinessApp").factory("Catalogs",["API","$resource",function(a,b){var c=a.url+a.endpoint.catalogs;return b(c+":id",{id:"@_id"})}]),angular.module("localBusinessApp").factory("Clients",["API","$resource",function(a,b){var c=a.url+a.endpoint.clients;return b(c+":id",{id:"@_id"},{generateKeys:{method:"POST",params:{id:"keys"},headers:{"Content-Type":"application/json"}}})}]),angular.module("localBusinessApp").constant("API",{url:"",endpoint:{articles:"/api/articles/",offers:"/api/offers/",pages:"/api/pages/",media:"/api/media/",accounts:"/api/accounts/",reviews:"/api/reviews/",clients:"/api/clients/",products:"/api/products/",galleries:"/api/galleries/",services:"/api/services/",catalogs:"/api/catalogs/"}}),angular.module("localBusinessApp").directive("convertToNumber",function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){return parseInt(a,10)}),d.$formatters.push(function(a){return""+a})}}}),angular.module("localBusinessApp").factory("Galleries",["API","$resource",function(a,b){var c=a.url+a.endpoint.galleries;return b(c+":id",{id:"@_id"})}]),angular.module("localBusinessApp").factory("ImageUploader",["$upload","$log","$window",function(a,b,c){function d(a){a.ui.inProgress=!0}function e(a){a.ui.inProgress=!1}function f(a){var b;a.data.model.media.length>0&&(b=a.data.model.media[0]._id,a.trashbin.push(b),a.data.model.media.splice(0,1)),a.data.model.picture="",a.ui.progress=0}var g=["jpg","jpeg","png","gif"];return{onFileSelectForAdd:function(b){return function(f){b.ui.progress=0,b.data.file=f[0];var h=b.data.file.name.split(".").slice(-1)[0],i=-1===g.indexOf(h.toLowerCase());return i?void c.alert("Accepted images types: `jpg`, `jpeg`, `png`, `gif`"):void a.upload({url:"/api/uploads",method:"POST",file:b.data.file}).progress(function(a){d(b),b.ui.progress=parseInt(100*a.loaded/a.total)}).success(function(a){b.data.uploadedImages.push(a.result),e(b)}).error(function(){e(b)})}},onFileSelectForUpdateMulti:function(b){return function(c){b.data.file=c[0],a.upload({url:"/api/uploads",method:"POST",file:b.data.file}).progress(function(a){d(b),b.ui.progress=parseInt(100*a.loaded/a.total)}).success(function(a){b.ui.pictures.push(a.result.file.path),b.data.uploadedImages.push(a.result),e(b)}).error(function(){e(b)})}},onFileSelectForUpdate:function(b){return function(c){f(b),b.data.file=c[0],a.upload({url:"/api/uploads",method:"POST",file:b.data.file}).progress(function(a){d(b),b.ui.progress=parseInt(100*a.loaded/a.total)}).success(function(a){b.data.model.picture=a.result.file.path,b.data.uploadedImages.length>0&&b.data.uploadedImages.splice(0,1),b.data.uploadedImages.push(a.result),e(b)}).error(function(){e(b)})}}}}]),angular.module("localBusinessApp").factory("Media",["API","$http",function(a,b){var c=a.url+a.endpoint.media;return{create:function(a){return b.post(c,a)},get:function(a){return b.get(c,{params:{page:a}})},update:function(a,d){return b.put(c+a,d)},findOne:function(a){return b.get(c+a)},"delete":function(a){return b["delete"](c+a)},deleteList:function(a){return b({url:c,headers:{"Content-Type":"application/json"},method:"DELETE",data:{medias:a}})}}}]),angular.module("localBusinessApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("localBusinessApp").controller("DeleteModalInstanceCtrl",["$scope","$modalInstance","modalData","$log",function(a,b,c,d){a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")},b.result.then(c.cb,function(){d.info("Delete image is canceled")})}]),angular.module("localBusinessApp").factory("modalDeleteItem",["$modal",function(a){return{open:function(b){a.open({templateUrl:"components/modalDeleteItem/modal-delete.html",controller:"DeleteModalInstanceCtrl",resolve:{modalData:function(){return{cb:b}}}})}}}]),angular.module("localBusinessApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),angular.module("localBusinessApp").controller("LogoutModalInstanceCtrl",["$scope","$modalInstance",function(a,b){a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}}]),angular.module("localBusinessApp").controller("NavbarCtrl",["$scope","$location","$modal","$log","Auth",function(a,b,c,d,e){a.menu=[],a.isCollapsed=!0,a.isLoggedIn=e.isLoggedIn,a.isAdmin=e.isAdmin,a.getCurrentUser=e.getCurrentUser,a.logout=function(){var a=c.open({templateUrl:"components/navbar/modal-logout.html",controller:"LogoutModalInstanceCtrl",resolve:{}});a.result.then(function(){e.logout(),b.path("/login")},function(){d.info("Logout is aborted.")})},a.isActive=function(a){return a===b.path()}}]),angular.module("localBusinessApp").service("Pages",["API","$http",function(a,b){var c=a.url+a.endpoint.pages;return{create:function(a){return b.post(c,a)},update:function(a,d){return b.put(c+a,d)},get:function(a){return b.get(c,{params:{page:a}})},findOne:function(a){return b.get(c+a)},"delete":function(a){return b["delete"](c+a)}}}]),angular.module("localBusinessApp").factory("paginator",function(){var a={next:!1,previous:!1,page:0,pageSize:0,total:0,numPages:0};return{setNext:function(b){a.next=b},next:function(){return a.next},setPrevious:function(b){a.previous=b},previous:function(){return a.previous},setPage:function(b){a.page=b},getPage:function(){return a.page},setPages:function(b){a.numPages=b},getPages:function(){return a.numPages}}}),angular.module("localBusinessApp").factory("PreparationTimes",[function(){var a=[{name:"Pizzas ~15min",value:15},{name:"Salads ~8min",value:8},{name:"Pastas ~18min",value:18}];return{get:function(){return a}}}]),angular.module("localBusinessApp").factory("Products",["API","$resource",function(a,b){var c=a.url+a.endpoint.products;return b(c+":id",{id:"@_id"})}]),angular.module("localBusinessApp").service("Reviews",["API","$http",function(a,b){var c=a.url+a.endpoint.reviews;return{create:function(a){return b.post(c,a)},update:function(a,d){return b.put(c+a,d)},get:function(a){return b.get(c,{params:{page:a}})},findOne:function(a){return b.get(c+a)},"delete":function(a){
return b["delete"](c+a)}}}]),angular.module("localBusinessApp").factory("Services",["API","$resource",function(a,b){var c=a.url+a.endpoint.services;return b(c+":id",{id:"@_id"})}]),angular.module("localBusinessApp").controller("SidebarCtrl",["$scope","$location","Auth","$translate",function(a,b,c,d){a.currentUser=c.getCurrentUser(),a.isAdmin=c.isAdmin,a.path=b.path();var e=[];e["/"]="dashboard",e["/articles"]="articles",e["/reviews"]="restaurant",e["/push"]="push",e["/business"]="account",e["/photos"]="account",e["/contact"]="account",e["/admin"]="admin",e["/clients"]="clients",e["/products"]="products",e["/galleries"]="galleries",e["/services"]="services",e["/catalogs"]="catalogs",a.isItemActive=function(a){var c=b.path().split("/")[1];return c===a},a.isGroupActive=function(a){var c="/"+b.path().split("/")[1];return e[c]===a},a.onChangeLanguage=function(a){d.use(a)}}]),angular.module("localBusinessApp").factory("Taxes",[function(){var a=[{name:"15%",value:.15},{name:"25%",value:.25}];return{get:function(){return a}}}]),angular.module("localBusinessApp").run(["$templateCache",function(a){a.put("app/account/create/create.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><h3>New account<br><small>Create a new Account.</small></h3><div class=row><form class=form-horizontal name=form ng-submit=register(form) novalidate><div class="col-md-12 col-md main" ui-view=mainPane><div class="panel panel-default"><div class=panel-heading>Account</div><div class=panel-body><fieldset><legend>Account</legend><div class=form-group ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                                    \'has-error\': form.name.$invalid && submitted }"><label class="col-sm-2 control-label">Name</label><div class=col-sm-10><input name=name class=form-control ng-model=user.name required><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p></div></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && submitted,\n                                                    \'has-error\': form.email.$invalid && submitted }"><label class="col-sm-2 control-label">Email</label><div class=col-sm-10><input type=email name=email class=form-control ng-model=user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p></div></div><div ng-if=isCreate class=form-group ng-class="{ \'has-success\': form.password.$valid && submitted,\n                                                    \'has-error\': form.password.$invalid && submitted }"><label class="col-sm-2 control-label">Password</label><div class=col-sm-10><input type=password name=password class=form-control ng-model=user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p></div></div></fieldset></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-lg btn-primary" type=submit>{{submitLabel}}</button> <button ng-if=isCreate class="btn btn-lg btn-warning" type=reset>Reset</button> <button ng-if=isEdit class="btn btn-lg btn-warning" ng-click=cancel()>Cancel</button></div><!-- /.panel-footer --></div><!-- /.panel --></div><!-- /ui main-view --></form></div><!-- /row --></div><!-- /.main-content --><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section><style>/* This margin value is set to 0 when the form-group is into a fieldset\n* We do not need this so re-set this in its initial value\n*/\nfieldset .form-group {\n  margin-bottom: 15px;\n}</style>'),a.put("app/account/forgot/forgot.html",'<!-- START wrapper--><div class="login row row-table page-wrapper"><div class="col-lg-5 col-md-6 col-sm-8 col-xs-12 align-middle"><!-- START panel--><div class="panel panel-dark panel-flat"><div class="panel-heading text-center"><a href=#><img src=assets/images/1c203a1e.logo.png alt=Image class="block-center img-rounded"></a><p class="text-center mt-lg"><strong>FORGOT YOUR PASSWORD?</strong></p></div><div class=panel-body><div class=has-success><p class=help-block ng-show="success && submitted">An email has been sent successfully to your email address, containing help instructions to help you reset your password.</p></div><form role=form class="mb-lg form" name=form ng-submit=forgot(form) novalidate><div class="form-group has-feedback"><input id=email type=email name=email placeholder="Enter email" class=form-control ng-model=email required> <span class="fa fa-envelope form-control-feedback text-muted"></span></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && submitted">Please enter your email.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{error}}</p></div><button type=submit class="btn btn-block btn-success">Forgot</button></form></div></div><!-- END panel--></div></div><!-- END wrapper-->'),a.put("app/account/login/login.html",'<!-- START wrapper--><div class="login row row-table page-wrapper"><div class="col-lg-5 col-md-6 col-sm-8 col-xs-12 align-middle"><!-- START panel--><div class="panel panel-dark panel-flat"><div class="panel-heading text-center"><a href=#><img src=assets/images/1c203a1e.logo.png alt=Image class="block-center img-rounded"></a><p class="text-center mt-lg"><strong>SIGN IN TO CONTINUE.</strong></p></div><div class=panel-body><form role=form class="mb-lg form" name=form ng-submit=login(form) novalidate><div class="text-right mb-sm"><a href=/signup class=text-muted>Need to Signup?</a></div><div class="form-group has-feedback"><input id=exampleInputEmail1 type=email name=email placeholder="Enter email" class=form-control ng-model=user.email required> <span class="fa fa-envelope form-control-feedback text-muted"></span></div><div class="form-group has-feedback"><input id=exampleInputPassword1 type=password name=password placeholder=Password class=form-control ng-model=user.password required> <span class="fa fa-lock form-control-feedback text-muted"></span></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block>{{ errors.other }}</p></div><div class=clearfix><div class="checkbox c-checkbox pull-left mt0"><label><input type=checkbox> <span class="fa fa-check"></span>Remember Me</label></div><div class=pull-right><a ui-sref=forgot class=text-muted>Forgot your password?</a></div></div><button type=submit class="btn btn-block btn-success">Login</button></form></div></div><!-- END panel--></div></div><!-- END wrapper-->'),a.put("app/account/reset/reset.html",'<!-- START wrapper--><div class="login row row-table page-wrapper"><div class="col-lg-5 col-md-6 col-sm-8 col-xs-12 align-middle"><!-- START panel--><div class="panel panel-dark panel-flat"><div class="panel-heading text-center"><a href=#><img src=assets/images/1c203a1e.logo.png alt=Image class="block-center img-rounded"></a><p class="text-center mt-lg"><strong>RESET YOUR PASSWORD</strong></p></div><div class=panel-body><div class=has-success><p class=help-block ng-show="success && submitted">You have successfully reset your password. You will be redirected to the login page in 10 seconds, so you can login using your new password.</p></div><form role=form class="mb-lg form" name=form ng-submit=reset(form) novalidate><div class="form-group has-feedback"><input id=password type=password name=password placeholder="New Password" class=form-control ng-model=password required> <span class="fa fa-lock form-control-feedback text-muted"></span></div><div class="form-group has-feedback"><input id=confirm type=password name=confirm placeholder="Confirm Password" class=form-control ng-model=confirm required> <span class="fa fa-lock form-control-feedback text-muted"></span></div><div class="form-group has-error"><p class=help-block ng-show="form.password.$error.required && submitted">Please enter your new password.</p><p class=help-block ng-show="form.confirm.$error.required && submitted">Please enter a password confirmation.</p><p class=help-block ng-show="password != confirm && submitted">The new password and its confirmation must match.</p><p class=help-block>{{error}}</p></div><button type=submit class="btn btn-block btn-success">Reset</button></form></div></div><!-- END panel--></div></div><!-- END wrapper-->'),a.put("app/account/settings/settings.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><h3>Settings<br><small>Adjust your account settings</small></h3><div class=row><div class="col-md-10 col-md main"><h4>Change Password</h4></div><div class="col-md-10 col-md main"><form class=form name=form ng-submit=changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">Password must be at least 3 characters.</p></div><p class=help-block>{{ message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section>'),a.put("app/account/signup/signup.html",'<!-- START wrapper--><div class="login row row-table page-wrapper"><div class="col-lg-5 col-md-6 col-sm-8 col-xs-12 align-middle"><!-- START panel--><div class="panel panel-dark panel-flat"><div class="panel-heading text-center"><a href=#><img src=assets/images/1c203a1e.logo.png alt=Image class="block-center img-rounded"></a><p class="text-center mt-lg"><strong>SIGN UP</strong></p></div><div class=panel-body><form role=form class="mb-lg form" name=form ng-submit=register(form) novalidate><div class="form-group has-feedback" ng-class="{ \'has-success\': form.name.$valid && submitted,\n                                                               \'has-error\': form.name.$invalid && submitted }"><input name=name placeholder="Enter name" class=form-control ng-model=user.name required></div><div class="form-group has-feedback" ng-class="{ \'has-success\': form.email.$valid && submitted,\n                                                                \'has-error\': form.email.$invalid && submitted }"><input type=email name=email placeholder="Enter email" class=form-control ng-model=user.email required mongoose-error> <span class="fa fa-envelope form-control-feedback text-muted"></span></div><div class="form-group has-feedback" ng-class="{ \'has-success\': form.password.$valid && submitted,\n                                                                \'has-error\': form.password.$invalid && submitted }"><input type=password name=password placeholder=Password class=form-control ng-model=user.password ng-minlength=3 required mongoose-error> <span class="fa fa-lock form-control-feedback text-muted"></span></div><div class="form-group has-error"><p class=help-block ng-show="form.name.$error.required && submitted">A name is required</p><p class=help-block ng-show="form.email.$error.email && submitted">Please enter a valid email.</p><p class=help-block ng-show="form.email.$error.required && submitted">Please enter your email address.</p><p class=help-block ng-show=form.email.$error.mongoose>{{ errors.email }}</p><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ errors.password }}</p><p class=help-block>{{ errors.other }}</p></div><button type=submit class="btn btn-block btn-success">Signup</button></form></div></div><!-- END panel--></div></div><!-- END wrapper-->'),a.put("app/accounts/accounts.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><h3>Account<br><small>Provide information about the business and other preferences.</small></h3><div class=row><form role=form name=accountForm class=form-horizontal><div class="col-md-12 col-md main" ui-view=mainPane><div class="panel panel-default"><div class=panel-heading>Account</div><div class=panel-body><fieldset><legend>Business</legend><div class=form-group><label class="col-sm-2 control-label">Name</label><div class=col-sm-10><input class=form-control ng-model=data.business.name placeholder="My business"></div></div><div class=form-group><label class="col-sm-2 control-label">Description</label><div class=col-sm-10><textarea class=form-control type=text ng-model=data.business.description value="" rows=3 placeholder="A short description about your business"></textarea></div></div><div class=form-group><label class="col-sm-2 control-label">Opening hours</label><div class=col-sm-10><textarea class=form-control type=text ng-model=data.business.hours value="" rows=3 placeholder="e.g: 10:00am - 10:00pm"></textarea></div></div><div class=form-group><label class="col-sm-2 control-label">Web site</label><div class=col-sm-10><input class=form-control ng-model=data.business.website placeholder=http://www.mybusiness.com></div></div><div class=form-group><label class="col-sm-2 control-label">E-mail</label><div class=col-sm-10><input class=form-control ng-model=data.business.email placeholder=info@mybusiness.com></div></div><div class=form-group><label class="col-sm-2 control-label">Address</label><div class=col-sm-10><textarea class=form-control type=text ng-model=data.business.address value="" placeholder="Enter the physical address af this business"></textarea></div></div><div class=form-group><label class="col-sm-2 control-label">Zip Code</label><div class=col-sm-10><input class=form-control ng-model=data.business.zipcode placeholder="621 00"></div></div><div class=form-group><label class="col-sm-2 control-label">Place</label><div class=col-sm-10><textarea class=form-control type=text ng-model=data.business.place value="" placeholder=""></textarea></div></div><div class=form-group><label class="col-sm-2 control-label">Latitude and Longitude</label><div class=col-sm-10><input class=form-control ng-model=data.business.latlong placeholder="40.7421, -70.345"></div></div><div class=form-group><label class="col-sm-2 control-label">Map Zoom level</label><div class=col-sm-10><input class=form-control ng-model=data.business.zoom placeholder="eg: 2.3"></div></div></fieldset><!-- / business --><fieldset><legend>Photos</legend><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-4"><img ng-src={{picture}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(3n+1) {clear: both;}</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=page.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{page.progress}}%">{{page.progress}}% Complete</div></div></div><!-- /.well --></fieldset><!-- /photos --></div><!-- //.panel-body --><div class=panel-footer><button ng-disabled="(accountForm.$valid) ? false : false" class="btn btn-primary" ng-click=update()>Save</button> <button ng-click=cancel() class="btn btn-warning">Cancel</button></div></div><!-- /.panel --></div><!-- /ui main-view --></form></div><!-- / .row --></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section><style>/* This margin value is set to 0 when the form-group is into a fieldset\n   * We do not need this so re-set this in its initial value\n   */\n  fieldset .form-group {\n    margin-bottom: 15px;\n  }</style>'),a.put("app/accounts/business.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><h3>Account<br><small>Provide information about the business and other preferences.</small></h3><div class=row><form role=form name=accountForm class=form-horizontal><div class="col-md-12 col-md main" ui-view=mainPane><div class="panel panel-default" ng-class="{ active: $state.includes(\'photos\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Account</div><div class=panel-body><fieldset><legend>Business</legend><div class=form-group><label class="col-sm-2 control-label">Name</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.name placeholder="My Business Name"></div></div><div class=form-group><label class="col-sm-2 control-label">Description</label><div class=col-sm-10><textarea class=form-control type=text ng-model=data.model.business.description value="" rows=3 placeholder="A short description about your business"></textarea></div></div><div class=form-group><label class="col-sm-2 control-label">Web site</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.website placeholder=http://www.mybusiness.com></div></div><div class=form-group><label class="col-sm-2 control-label">E-mail</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.email placeholder=info@mybusiness.com></div></div><div class=form-group><label class="col-sm-2 control-label">Address</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.address placeholder="Enter the physical address af this business"></div></div><div class=form-group><label class="col-sm-2 control-label">City</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.city placeholder="Enter the city"></div></div><div class=form-group><label class="col-sm-2 control-label">Zip Code</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.zipcode placeholder="621 00"></div></div><div class=form-group><label class="col-sm-2 control-label">Latitude and Longitude</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.latlong placeholder="40.7421, -70.345"></div></div><div class=form-group><label class="col-sm-2 control-label">Map Zoom level</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.zoom placeholder="eg: 2.3"></div></div></fieldset><!-- / business --><fieldset><legend>Social</legend><div class=form-group><label class="col-sm-2 control-label">Facebook Page</label><div class=col-sm-10><input class=form-control ng-model=data.model.business.social.facebookPage placeholder=https://www.facebook.com/ionicframework></div></div></fieldset><!-- / social --><fieldset><legend>Opening Hours</legend><div class=form-group><label class="col-sm-2 control-label">Time Zone</label><div class=col-sm-10><select ng-model=data.model.business.hours.zone convert-to-number class=form-control><option value=-12>GMT -12</option><option value=-11>GMT -11</option><option value=-10>GMT -10</option><option value=-9>GMT -9</option><option value=-8>GMT -8</option><option value=-7>GMT -7</option><option value=-6>GMT -6</option><option value=-5>GMT -5</option><option value=-4>GMT -4</option><option value=-3>GMT -3</option><option value=-2>GMT -2</option><option value=-1>GMT -1</option><option value=0>GMT</option><option value=1>GMT +1</option><option value=2>GMT +2</option><option value=3>GMT +3</option><option value=4>GMT +4</option><option value=5>GMT +5</option><option value=6>GMT +6</option><option value=7>GMT +7</option><option value=8>GMT +8</option><option value=9>GMT +9</option><option value=10>GMT +10</option><option value=11>GMT +11</option><option value=12>GMT +12</option></select></div></div><div class=form-group><label class="col-sm-2 control-label">Open</label><div class=col-sm-10><a title="Add more prices" class=pull-right ng-click=addOpenHourInputs()>Add Open hour</a><table class="table table-condensed table-striped"><tr><th>Day</th><th>Open at</th><th>Close at</th><th></th></tr><tr ng-repeat="openHour in data.model.business.hours.days"><td><select ng-model=openHour.day convert-to-number class=form-control><option value=0>Sunday</option><option value=1>Monday</option><option value=2>Tuesday</option><option value=3>Wednesday</option><option value=4>Thursday</option><option value=5>Friday</option><option value=6>Saturday</option></select></td><td><timepicker ng-model=openHour.openAt ng-change=changed() hour-step=hstep minute-step=mstep show-meridian=ismeridian></timepicker></td><td><timepicker ng-model=openHour.closeAt ng-change=changed() hour-step=hstep minute-step=mstep show-meridian=ismeridian></timepicker></td><td><button ng-if="$index>0" type=button class="btn btn-danger btn-xs pull-right" ng-click=removeOpenHourInputs($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></td></tr></table></div></div></fieldset><!-- / Opening hours --></div><!-- //.panel-body --><div class=panel-footer><button ng-disabled="(accountForm.$valid) ? false : false" class="btn btn-primary" ng-click=update()>Save</button> <button ng-click=cancel() class="btn btn-warning">Cancel</button></div></div><!-- /.panel --></div><!-- /ui main-view --></form></div><!-- / .row --></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section><style>/* This margin value is set to 0 when the form-group is into a fieldset\n   * We do not need this so re-set this in its initial value\n   */\n  fieldset .form-group {\n    margin-bottom: 15px;\n  }</style>'),a.put("app/accounts/contact.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><h3>Account<br><small>Provide some contact information about the business.</small></h3><div class=row><form role=form name=accountForm class=form-horizontal><div class="col-md-12 col-md main" ui-view=mainPane><div class="panel panel-default" ng-class="{ active: $state.includes(\'photos\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Account</div><div class=panel-body><fieldset><legend>Contact person</legend><div class=form-group><label class="col-sm-2 control-label">Full Name</label><div class=col-sm-10><input class=form-control ng-model=data.model.contact.name placeholder="John Smith"></div></div><div class=form-group><label class="col-sm-2 control-label">Phone</label><div class=col-sm-10><input class=form-control ng-model=data.model.contact.phone placeholder="+30 697 221 00"></div></div><div class=form-group><label class="col-sm-2 control-label">Email</label><div class=col-sm-10><input class=form-control ng-model=data.model.contact.email placeholder=john.smith@mybusiness.com></div></div></fieldset></div><!-- //.panel-body --><div class=panel-footer><button ng-disabled="(accountForm.$valid) ? false : false" class="btn btn-primary" ng-click=update()>Save</button> <button ng-click=cancel() class="btn btn-warning">Cancel</button></div></div><!-- /.panel --></div><!-- /ui main-view --></form></div><!-- / .row --></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section><style>/* This margin value is set to 0 when the form-group is into a fieldset\n   * We do not need this so re-set this in its initial value\n   */\n  fieldset .form-group {\n    margin-bottom: 15px;\n  }</style>'),a.put("app/accounts/photos.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><h3>Account<br><small>Provide some photos about the business.</small></h3><div class=row><form role=form name=accountForm class=form-horizontal><div class="col-md-12 col-md main" ui-view=mainPane><div class="panel panel-default" ng-class="{ active: $state.includes(\'photos\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Account</div><div class=panel-body><fieldset><legend>Photos</legend><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-4"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(3n+1) {\n                      clear: both;\n                    }</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=page.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></fieldset><!-- /photos --></div><!-- //.panel-body --><div class=panel-footer><button ng-disabled="(accountForm.$valid) ? false : false" class="btn btn-primary" ng-click=update()>Save</button> <button ng-click=cancel() class="btn btn-warning">Cancel</button></div></div><!-- /.panel --></div><!-- /ui main-view --></form></div><!-- / .row --></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section><style>/* This margin value is set to 0 when the form-group is into a fieldset\n   * We do not need this so re-set this in its initial value\n   */\n\nfieldset .form-group {\n  margin-bottom: 15px;\n}</style>'),a.put("app/admin/admin.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><a type=button class="btn btn-primary pull-right" href=/create><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add User</a><h3>Admin<br><small>Manage the users of Local Business backend application.</small></h3><!--\n    <div class="row">\n      <div class="col-md-10 col-md main" ui-view="mainPane">\n        <h4>Users</h4>\n        <p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p>\n        <ul class="list-group">\n          <li class="list-group-item" ng-repeat="user in users">\n            <strong>{{user.name}}</strong>\n            <br>\n            user id: <code>{{user._id}}</code>\n            <br>\n            <span class="text-muted">{{user.email}}</span>\n            <a ng-click="delete(user)" class="trash">\n              <span class="glyphicon glyphicon-trash pull-right"></span>\n            </a>\n          </li>\n        </ul>\n\n      </div>\n    </div>\n--><div class="panel panel-default"><div class=panel-heading>Users <a href=javascript:void(0); data-perform=panel-collapse data-toggle=tooltip class=pull-right data-original-title="Collapse Panel"><em class="fa fa-minus"></em></a></div><!-- START table-responsive--><div class="panel-wrapper collapse in" style="height: auto"><div class=table-responsive><table id=table-ext-2 class="table table-striped table-bordered table-hover"><thead><tr><th class=check-all><div data-toggle=tooltip data-title="Check All" class="checkbox c-checkbox" data-original-title="" ng-if=false><!-- will be used in the future where mass actions will be implemented --><label><input type=checkbox> <span class="fa fa-check"></span></label></div></th><th>User / Account</th></tr></thead><tbody><tr ng-repeat="user in users"><td><div class="checkbox c-checkbox" ng-if=false><label><input type=checkbox> <span class="fa fa-check"></span></label></div></td><td><div class=media><a href=javascript:void(0); class=pull-left><img src=assets/images/wintermin/img/user/01.jpg alt="" class="media-object img-responsive img-circle"></a><div class=media-body><div class="pull-right badge badge-info">{{user.role}}</div><h4 class=media-heading>{{user.name}}</h4><p>Username: {{user.name}}<br>User id: <code>{{user._id}}</code></p><a ui-sref="edit({id: user._id})" class=trash><span class="glyphicon glyphicon-edit pull-right" style="margin: 3px"></span></a> <a ng-click=delete(user) class=trash><span class="glyphicon glyphicon-trash pull-right" style="margin: 3px"></span></a></div></div></td></tr></tbody></table></div></div><!-- END table-responsive--></div></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section>'),a.put("app/admin/modal-delete.html",'<div class=modal-header><h3>Delete user</h3></div><div class=modal-body>The user <code>{{user.name}}</code> with the email address <code>{{user.email}}</code> will be permanently deleted. Are you sure?</div><div class=modal-footer><button class="btn btn-primary" ng-click=ok()>Delete this user</button> <button class="btn btn-warning" ng-click=cancel()>Cancel</button></div>'),a.put("app/articles/articles.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><button type=button class="btn btn-primary pull-right" ui-sref=articles.add><em class="fa fa-plus-circle fa-fw mr-sm"></em>{{\'ADD_ARTICLE\' | translate}}</button><h3>{{\'ARTICLE_PAGE_HEADING\' | translate}}<br><small>{{\'ARTICLE_PAGE_HEADING2\' | translate}}</small></h3><div class=row><div class="col-md-6 col-md main" ui-view=leftPane></div><div class="col-md-6 main" ui-view=rightPane></div></div></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section>'),a.put("app/articles/form-add.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'articles.add\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>{{\'ADD_ARTICLE\' | translate}}</div><form role=form name=addForm><div class=panel-body><div class=form-group><label>{{\'ARTICLE_ADD_FORM_TITLE_LABEL\' | translate}} *</label><input class=form-control ng-model=data.model.title placeholder="{{\'ARTICLE_ADD_FORM_TITLE_PLACEHOLDER\' | translate}}" required></div><div class=form-group><label>{{\'ARTICLE_ADD_FORM_CAT_TAGS_LABEL\' | translate}}</label><input class=form-control ng-model=data.model.tags placeholder="{{\'ARTICLE_ADD_FORM_CAT_TAGS_PLACEHOLDER\' | translate}}"></div><div class=form-group><label>{{\'ARTICLE_ADD_FORM_BODY_LABEL\' | translate}}</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="{{\'ARTICLE_ADD_FORM_BODY_PLACEHOLDER\' | translate}}"></textarea></div><div class=form-group><label>{{\'ARTICLE_ADD_FORM_PHOTO_LABEL\' | translate}}</label><div class=well><p><div class=row><div ng-repeat="image in data.uploadedImages" class="image col-sm-6"><img ng-src={{image.file.path}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {\n                clear: both;\n              }</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>{{\'ARTICLE_ADD_FORM_PHOTO_PLACEHOLDER\' | translate}}</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>{{\'ARTICLE_ADD_FORM_HTML5_DROP\' | translate}} <input type=file name=image ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* {{\'ARTICLE_ADD_FORM_REQUIRED_FIELDS\' | translate}}</div></div><!-- /.panel-body --><div class=panel-footer><button ng-disabled="(addForm.$valid) ? false : true" class="btn btn-success" ng-click=save()>{{\'ARTICLE_ADD_FORM_SAVE_BUTTON\' | translate}}</button> <button ui-sref=articles class="btn btn-warning">{{\'ARTICLE_ADD_FORM_CANCEL_BUTTON\' | translate}}</button></div></form></div>'),
a.put("app/articles/form-update.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'articles.update\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Edit article</div><form role=form name=updateForm><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Categories / Tags</label><input class=form-control ng-model=data.model.tags placeholder="tag1, tag2, tag3"></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt="{{data.model.Title}} - {{$index}}" width=100%> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {\n                clear: both;\n              }</style></p><p><button ng-if=ui.picture type=button class="btn btn-danger btn-xs" ng-click=deleteImage(page)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(updateForm.$valid) ? false : true" class="btn btn-success" ng-click=update()>Update</button> <button ui-sref="articles.details({id: data.model._id})" class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/articles/view-details.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'articles.details\') }"><div class=panel-heading>{{data.model.title}} <a href title="Edit this article" class="fa fa-edit pull-right" ui-sref="articles.update({id: data.model._id})"></a></div><div class=panel-body><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt={{data.model.title}} width=100%></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p ng-bind=data.model.body></p><p><span class=badge ng-bind=data.model.tags></span></p></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-primary" ui-sref="articles.update({id: data.model._id})">Edit</button></div></div>'),a.put("app/articles/view-list.html",'<div class="panel panel-default"><div class=panel-heading>{{\'ARTICLE_LIST_HEADING\' | translate}}<a ui-sref=articles.add title="{{\'ARTICLE_LIST_ADD_LINK\' | translate}}" class=pull-right>{{\'ARTICLE_LIST_ADD_LINK\' | translate}}</a></div><div class=panel-body><div ng-switch on="data.records.length > 0"><!-- Display the data when available --><div ng-switch-when=true><table class="table table-hover"><thead><tr role=row><th>{{\'TITLE\' | translate}}</th><th class=cell-actions>Actions</th></tr></thead><tbody><tr ng-repeat="record in data.records" ng-controller=ArticlesItemCtrl><td ui-sref="articles.details({id: record._id})">{{record.title}}</td><td><button type=button class="btn btn-labeled btn-default btn-xs" ui-sref="articles.update({id: record._id})"><span class=btn-label><i class="fa fa-edit"></i></span>Edit</button> <button type=button class="btn btn-labeled btn-danger btn-xs" ng-click=deleteItem(record)><span class=btn-label><i class="fa fa-trash-o"></i></span>Delete</button></td></tr></tbody></table><!-- pager --><ul class=pager><!-- Previous button when enabled--><li ng-hide=paginator.previous() class=previous><a href ng-click=previousPage()>Previous</a></li><!-- Previous button when disabled--><li class="previous disabled" ng-show=paginator.previous()><a href>Previous</a></li><!-- Next button when enabled--><li ng-hide=paginator.next() class=next><a href ng-click=nextPage()>Next</a></li><!-- Next button when disabled--><li class="next disabled" ng-show=paginator.next()><a href>Next</a></li></ul></div><!-- Say sorry when we are not able to display the data --><div ng-switch-default>{{\'ARTICLE_LIST_NOT_AVAILABLE\' | translate}}</div></div></div><!-- //.panel-body --><div class=panel-footer></div></div>'),a.put("app/catalogs/catalogs.html",'<aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><section><div class=main-content><button type=button class="btn btn-primary pull-right" ui-sref=catalogs.add><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add Catalog</button><h3>Catalogs<br><small>Manage catalogs that provide information about business\'s products.</small></h3><div class=row><div class="col-md-6 col-md main" ui-view=leftPane></div><div class="col-md-6 main" ui-view=rightPane></div></div></div><footer>&copy; 2015 - appseed.io - local business</footer></section>'),a.put("app/catalogs/form-add.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'catalogs.add\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Add new catalog</div><form role=form name=addForm><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>URL</label><input class=form-control type=url ng-model=data.model.url placeholder=http://example.org></div><div class=form-group><label>PDF URL</label><input class=form-control type=url ng-model=data.model.pdfUrl placeholder=http://example.org></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="image in data.uploadedImages" class="image col-sm-6"><img ng-src={{image.file.path}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(addForm.$valid) ? false : true" class="btn btn-success" ng-click=save()>Save</button> <button ui-sref=catalogs class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/catalogs/form-update.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'catalogs.update\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Edit catalogs</div><form role=form name=updateForm><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>URL</label><input class=form-control type=url ng-model=data.model.url placeholder=http://example.org></div><div class=form-group><label>PDF URL</label><input class=form-control type=url ng-model=data.model.pdfUrl placeholder=http://example.org></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt="{{data.model.name}} - {{$index}}" width=100%> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p><button ng-if=ui.picture type=button class="btn btn-danger btn-xs" ng-click=deleteImage(data.model)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(updateForm.$valid) ? false : true" class="btn btn-success" ng-click=update()>Update</button> <button ui-sref="catalogs.details({id: data.model._id})" class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/catalogs/view-details.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'catalog.details\') }"><div class=panel-heading>{{data.model.title}} <a href title="Edit this news" class="fa fa-edit pull-right" ui-sref="catalogs.update({id: data.model._id})"></a></div><div class=panel-body><p><div class=row><div ng-repeat="picture in data.model.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt={{picture.title}} width=100%></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p ng-bind=data.model.body></p><p>URL: <a href={{data.model.url}} title={{data.model.url}} ng-bind=data.model.url></a></p><p>PDF URL: <a href={{data.model.pdfUrl}} title={{data.model.pdfUrl}} ng-bind=data.model.pdfUrl></a></p></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-primary" ui-sref="catalogs.update({id: data.model._id})">Edit</button></div></div>'),a.put("app/catalogs/view-list.html",'<div class="panel panel-default"><div class=panel-heading>List of catalogs<a ui-sref=catalogs.add title="Add Catalog" class=pull-right>Add</a></div><div class=panel-body><div ng-switch on="data.records.length > 0"><!-- Display the records when available --><div ng-switch-when=true><table class="table table-hover"><thead><tr role=row><th>Title</th><th class=cell-actions>Actions</th></tr></thead><tbody><tr ng-repeat="record in data.records" ng-controller=CatalogsItemCtrl><td ng-bind=record.title ui-sref="catalogs.details({id: record._id})"></td><td><button type=button class="btn btn-labeled btn-default btn-xs" ui-sref="catalogs.update({id: record._id})"><span class=btn-label><i class="fa fa-edit"></i></span>Edit</button> <button type=button class="btn btn-labeled btn-danger btn-xs" ng-click=deleteItem(record)><span class=btn-label><i class="fa fa-trash-o"></i></span>Delete</button></td></tr></tbody></table><!-- pager --><ul class=pager><!-- Previous button when enabled--><li ng-hide=paginator.previous() class=previous><a href ng-click=previousPage()>Previous</a></li><!-- Previous button when disabled--><li class="previous disabled" ng-show=paginator.previous()><a href>Previous</a></li><!-- Next button when enabled--><li ng-hide=paginator.next() class=next><a href ng-click=nextPage()>Next</a></li><!-- Next button when disabled--><li class="next disabled" ng-show=paginator.next()><a href>Next</a></li></ul></div><!-- Say sorry when we are not able to display the records --><div ng-switch-default>There are no data available.</div></div></div><!-- //.panel-body --></div>'),a.put("app/clients/clients.html",'<aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><section><div class=main-content><button type=button class="btn btn-primary pull-right" ui-sref=clients.add><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add Client</button><h3>API Clients<br><small>Manage the API clients</small></h3><div class=row><div class="col-md-6 col-md main" ui-view=leftPane></div><div class="col-md-6 main" ui-view=rightPane></div></div></div><footer>&copy; 2015 - appseed.io - local business</footer></section>'),a.put("app/clients/form-add.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'clients.add\'), \'csspinner traditional\': ui.inProgress}"><div class=panel-heading>Add client</div><form role=form name=addForm><div class=panel-body><div class=form-group><label>Name *</label><input placeholder="Enter the client name" class=form-control ng-model=data.model.name required></div><div class=form-group><p><label>Key ID</label><input placeholder="Generate a key" class=form-control ng-model=credentials.clientId required readonly></p><p><label>Key Secret</label><input placeholder="Generate a secret" class=form-control ng-model=credentials.clientSecret required readonly></p></div><div class=form-group><a class="btn btn-primary" ng-click=generateKeys()>Generate Key ID/Secret</a></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(addForm.$valid && !ui.inProgress) ? false : true" class="btn btn-success" ng-click=save()>Save</button> <button ui-sref=clients class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/clients/form-update.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'clients.update\'), \'csspinner traditional\': ui.inProgress}"><div class=panel-heading>Edit client</div><form role=form name=updateForm><div class=panel-body><div class=form-group><label>Name *</label><input placeholder="Enter the client name" class=form-control ng-model=data.model.name required></div><p><label>Key ID</label><input placeholder="Generate a key" class=form-control ng-model=data.model.clientId required readonly></p><p><label>Key Secret</label><input placeholder="Generate a secret" class=form-control ng-model=data.model.clientSecret required readonly></p><div class=form-group><a class="btn btn-primary" ng-click=generateKeys()>Generate Key ID/Secret</a></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(updateForm.$valid) ? false : true" class="btn btn-success" ng-click=update()>Update</button> <button ui-sref="clients.details({id: data.model._id})" class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/clients/view-details.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'clients.details\') }"><div class=panel-heading>{{data.model.name}} <a href title="Edit this client" class="fa fa-edit pull-right" ui-sref="clients.update({id: data.model._id})"></a></div><div class=panel-body><p><label>Key ID</label><input placeholder="Generate a key" class=form-control ng-model=data.model.clientId required readonly></p><p><label>Key Secret</label><input placeholder="Generate a secret" class=form-control ng-model=data.model.clientSecret required readonly></p><p><label>Created:</label><span>{{data.model.createdAt | date:\'medium\'}}</span></p><p><label>Modified:</label><span>{{data.model.modifiedAt | date:\'medium\'}}</span></p></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-primary" ui-sref="clients.update({id: data.model._id})">Edit</button></div></div>'),a.put("app/clients/view-list.html",'<div class="panel panel-default" ng-class="{\'panel-danger\': order.isDirty}"><div class=panel-heading>List of clients <a ui-sref=clients.add title="Add Clients" class=pull-right>Add</a></div><div class="panel-body warning"><div ng-switch on="data.records.length > 0"><!-- Display the records when available --><div ng-switch-when=true><table class="table table-hover"><thead><tr role=row><th>Name</th><th class=cell-actions>Actions</th></tr></thead><tbody ui-sortable=sortableOptions ng-model=data.records><tr ng-repeat="record in data.records" ng-controller=ClientsItemCtrl><td ng-bind=record.name ui-sref="clients.details({id: record._id})"></td><td><button type=button class="btn btn-labeled btn-default btn-xs" ui-sref="clients.update({id: record._id})"><span class=btn-label><i class="fa fa-edit"></i></span>Edit</button> <button type=button class="btn btn-labeled btn-danger btn-xs" ng-click=deleteItem(record)><span class=btn-label><i class="fa fa-trash-o"></i></span>Delete</button></td></tr></tbody></table></div><!-- Say sorry when we are not able to display the records --><div ng-switch-default>There are no data available.</div></div></div><!-- //.panel-body --><div class=panel-footer></div></div>'),a.put("app/galleries/form-add.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'galleries.add\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Add new gallery</div><form role=form name=addForm><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="image in data.uploadedImages" class="image col-sm-6"><img ng-src={{image.file.path}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(addForm.$valid) ? false : true" class="btn btn-success" ng-click=save()>Save</button> <button ui-sref=galleries class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/galleries/form-update.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'galleries.update\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Edit galleries</div><form role=form name=updateForm><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt="{{data.model.name}} - {{$index}}" width=100%> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p><button ng-if=ui.picture type=button class="btn btn-danger btn-xs" ng-click=deleteImage(data.model)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(updateForm.$valid) ? false : true" class="btn btn-success" ng-click=update()>Update</button> <button ui-sref="galleries.details({id: data.model._id})" class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/galleries/galleries.html",'<aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><section><div class=main-content><button type=button class="btn btn-primary pull-right" ui-sref=galleries.add><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add Gallery</button><h3>Galleries<br><!-- TODO replace this description --><small>Manage Image Galleries related to the business.</small></h3><div class=row><div class="col-md-6 col-md main" ui-view=leftPane></div><div class="col-md-6 main" ui-view=rightPane></div></div></div><footer>&copy; 2015 - appseed.io - local business</footer></section>'),a.put("app/galleries/view-details.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'galleries.details\') }"><div class=panel-heading>{{data.model.title}} <a href title="Edit this news" class="fa fa-edit pull-right" ui-sref="galleries.update({id: data.model._id})"></a></div><div class=panel-body><p><div class=row><div ng-repeat="picture in data.model.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt={{picture.title}} width=100%></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p ng-bind=data.model.body></p></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-primary" ui-sref="galleries.update({id: data.model._id})">Edit</button></div></div>'),a.put("app/galleries/view-list.html",'<div class="panel panel-default"><div class=panel-heading>List of galleries<a ui-sref=galleries.add title="Add Product" class=pull-right>Add</a></div><div class=panel-body><div ng-switch on="data.records.length > 0"><!-- Display the records when available --><div ng-switch-when=true><table class="table table-hover"><thead><tr role=row><th>Title</th><th class=cell-actions>Actions</th></tr></thead><tbody><tr ng-repeat="record in data.records" ng-controller=GalleriesItemCtrl><td ng-bind=record.title ui-sref="galleries.details({id: record._id})"></td><td><button type=button class="btn btn-labeled btn-default btn-xs" ui-sref="galleries.update({id: record._id})"><span class=btn-label><i class="fa fa-edit"></i></span>Edit</button> <button type=button class="btn btn-labeled btn-danger btn-xs" ng-click=deleteItem(record)><span class=btn-label><i class="fa fa-trash-o"></i></span>Delete</button></td></tr></tbody></table><!-- pager --><ul class=pager><!-- Previous button when enabled--><li ng-hide=paginator.previous() class=previous><a href ng-click=previousPage()>Previous</a></li><!-- Previous button when disabled--><li class="previous disabled" ng-show=paginator.previous()><a href>Previous</a></li><!-- Next button when enabled--><li ng-hide=paginator.next() class=next><a href ng-click=nextPage()>Next</a></li><!-- Next button when disabled--><li class="next disabled" ng-show=paginator.next()><a href>Next</a></li></ul></div><!-- Say sorry when we are not able to display the records --><div ng-switch-default>There are no data available.</div></div></div><!-- //.panel-body --></div>'),a.put("app/main/main.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><!-- START Main section--><section class=dashboard><!-- START Page content--><div class=main-content><h3 ng-if=!isAdmin()>Dashboard<br><small>Local Business</small></h3><h3 ng-if=isAdmin()>Dashboard<br><small>Welcome admin</small></h3><div data-toggle=notify data-onload data-message="&lt;b&gt;Welcome Visitor!&lt;/b&gt; Dismiss this message with a click or wait for it to disappear." data-options="{&quot;status&quot;:&quot;danger&quot;, &quot;pos&quot;:&quot;top-right&quot;}" class=hidden-xs></div><div class=row ng-if=isAdmin()><section class=col-md-9><div class=row><div class=col-md-4><!-- START administrator widget--><div class="panel widget" ui-sref=admin><div class=panel-body><div class="text-right text-muted"><em class="fa fa-users fa-2x"></em></div><h3 class=mt0>01.</h3><p class=text-muted>Administration</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=100 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-success progress-100"><span class=sr-only>100% Complete</span></div></div></div></div></div></div></section><aside class=col-md-3><!-- START widget--><div class="panel widget"><div class="panel-body bg-warning text-center"><div class="text-lg m0" ng-controller=MainCtrl>{{date | date: "EEE"}}</div><div class="text m0" ng-controller=MainCtrl>{{date | date: "MMMM d, y"}}</div><div class=mb-lg></div><em class="fa fa-heart-o fa-2x"></em></div></div><!-- END widget--></aside></div><!-- END administrator widget--><div class=row ng-if=!isAdmin()><!-- START dashboard main content--><section class=col-md-9><!-- START Secondary Widgets--><div class=row><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=articles><div class=panel-body><div class="text-right text-muted"><em class="fa fa-comments fa-2x"></em></div><h3 class=mt0>01.</h3><p class=text-muted>Articles</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=100 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-success progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=products><div class=panel-body><div class="text-right text-muted"><em class="fa fa-th-large fa-2x"></em></div><h3 class=mt0>02.</h3><p class=text-muted>Products</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=40 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-info progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=services><div class=panel-body><div class="text-right text-muted"><em class="fa fa-tasks fa-2x"></em></div><h3 class=mt0>03.</h3><p class=text-muted>Services</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=60 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-warning progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div></div><!-- 1st row widgets --><!-- 2nd row widgets --><div class=row><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=galleries><div class=panel-body><div class="text-right text-muted"><em class="fa fa-picture-o fa-2x"></em></div><h3 class=mt0>04.</h3><p class=text-muted>Galleries</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=80 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-success progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=catalogs><div class=panel-body><div class="text-right text-muted"><em class="fa fa-th fa-2x"></em></div><h3 class=mt0>05.</h3><p class=text-muted>Catalogs</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=40 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-info progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=pages><div class=panel-body><div class="text-right text-muted"><em class="fa fa-file-o fa-2x"></em></div><h3 class=mt0>06.</h3><p class=text-muted>Pages</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=60 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-warning progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div></div><!-- 2nd row widgets --><!-- 3rd row widgets --><div class=row><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=reviews><div class=panel-body><div class="text-right text-muted"><em class="fa fa-quote-left fa-2x"></em></div><h3 class=mt0>07.</h3><p class=text-muted>Reviews</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=80 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-success progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=business><div class=panel-body><div class="text-right text-muted"><em class="fa fa-gears fa-2x"></em></div><h3 class=mt0>08.</h3><p class=text-muted>Business</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=40 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-info progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div><div class=col-md-4><!-- START widget--><div class="panel widget" ui-sref=clients><div class=panel-body><div class="text-right text-muted"><em class="fa fa-mobile fa-2x"></em></div><h3 class=mt0>09.</h3><p class=text-muted>API Clients</p><div class="progress progress-striped progress-xs"><div role=progressbar aria-valuenow=60 aria-valuemin=0 aria-valuemax=100 class="progress-bar progress-bar-warning progress-100"><span class=sr-only>100% Complete</span></div></div></div></div><!-- END widget--></div></div><!-- 3rd row widgets --><!-- END Secondary Widgets--></section><!-- END dashboard main content--><!-- START dashboard sidebar--><aside class=col-md-3><!-- START widget--><div class="panel widget"><div class="panel-body bg-warning text-center"><div class="text-lg m0" ng-controller=MainCtrl>{{date | date: "EEE"}}</div><div class="text m0" ng-controller=MainCtrl>{{date | date: "MMMM d, y"}}</div><div class=mb-lg></div><em class="fa fa-heart-o fa-2x"></em></div></div><!-- END widget--></aside><!-- END dashboard sidebar--></div></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section>'),
a.put("app/pages/form-add.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'pages.add\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Add New page</div><form role=form name=addForm><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Teaser</label><input class=form-control ng-model=data.model.teaser placeholder="A short introduction"></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="image in data.uploadedImages" class="image col-sm-6"><img ng-src={{image.file.path}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(addForm.$valid) ? false : true" class="btn btn-success" ng-click=save()>Save</button> <button ui-sref=pages class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/pages/form-update.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'pages.update\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Edit pages</div><form role=form name=updateForm><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Teaser</label><input class=form-control ng-model=data.model.teaser placeholder="A short introduction"></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt="{{data.model.name}} - {{$index}}" width=100%> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p><button ng-if=ui.picture type=button class="btn btn-danger btn-xs" ng-click=deleteImage(data.model)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(updateForm.$valid) ? false : true" class="btn btn-success" ng-click=update()>Update</button> <button ui-sref="pages.details({id: data.model._id})" class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/pages/pages.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><button type=button class="btn btn-primary pull-right" ui-sref=pages.add><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add Page</button><h3>Pages<br><small>Manage pages that provide information about the business.</small></h3><div class=row><div class="col-md-6 col-md main" ui-view=leftPane></div><div class="col-md-6 main" ui-view=rightPane></div></div></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section>'),a.put("app/pages/view-details.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'page.details\') }"><div class=panel-heading>{{data.model.title}} <a href title="Edit this news" class="fa fa-edit pull-right" ui-sref="pages.update({id: data.model._id})"></a></div><div class=panel-body><p ng-bind=data.model.teaser></p><p><div class=row><div ng-repeat="picture in data.model.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt={{picture.title}} width=100%></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p ng-bind=data.model.body></p></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-primary" ui-sref="pages.update({id: data.model._id})">Edit</button></div></div>'),a.put("app/pages/view-list.html",'<div class="panel panel-default"><div class=panel-heading>List of pages <a ui-sref=pages.add title="Add Page" class=pull-right>Add</a></div><div class=panel-body><div ng-switch on="data.records.length > 0"><!-- Display the news when available --><div ng-switch-when=true><table class="table table-hover"><thead><tr role=row><th>Title</th><th class=cell-actions>Actions</th></tr></thead><tbody><tr ng-repeat="record in data.records" ng-controller=PagesItemCtrl><td ng-bind=record.title ui-sref="pages.details({id: record._id})"></td><td><button type=button class="btn btn-labeled btn-default btn-xs" ui-sref="pages.update({id: record._id})"><span class=btn-label><i class="fa fa-edit"></i></span>Edit</button> <button type=button class="btn btn-labeled btn-danger btn-xs" ng-click=deletePage(record)><span class=btn-label><i class="fa fa-trash-o"></i></span>Delete</button></td></tr></tbody></table><!-- news pager --><ul class=pager><!-- Previous button when enabled--><li ng-hide=paginator.previous() class=previous><a href ng-click=previousPage()>Previous</a></li><!-- Previous button when disabled--><li class="previous disabled" ng-show=paginator.previous()><a href>Previous</a></li><!-- Next button when enabled--><li ng-hide=paginator.next() class=next><a href ng-click=nextPage()>Next</a></li><!-- Next button when disabled--><li class="next disabled" ng-show=paginator.next()><a href>Next</a></li></ul></div><!-- Say sorry when we are not able to display the news --><div ng-switch-default>There are no data available.</div></div></div><!-- //.panel-body --></div>'),a.put("app/products/form-add.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'products.add\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Add new product</div><form novalidate role=form name=addForm class=css-form><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Price</label><input class=form-control type=number min=0 ng-model=data.model.price value=0 placeholder=Price></div><div class=form-group><label>URL</label><input class="form-control warning" type=url ng-model=data.model.url placeholder=http://example.org></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="image in data.uploadedImages" class="image col-sm-6"><img ng-src={{image.file.path}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(addForm.$valid) ? false : true" class="btn btn-success" ng-click=save()>Save</button> <button ui-sref=products class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/products/form-update.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'products.update\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Edit products</div><form role=form name=updateForm class=css-form><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Price</label><input class=form-control type=number min=0 ng-model=data.model.price value=0 placeholder=Price></div><div class=form-group><label>URL</label><input class=form-control type=url ng-model=data.model.url placeholder=http://example.org></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt="{{data.model.name}} - {{$index}}" width=100%> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p><button ng-if=ui.picture type=button class="btn btn-danger btn-xs" ng-click=deleteImage(data.model)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(updateForm.$valid) ? false : true" class="btn btn-success" ng-click=update()>Update</button> <button ui-sref="products.details({id: data.model._id})" class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/products/products.html",'<aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><section><div class=main-content><button type=button class="btn btn-primary pull-right" ui-sref=products.add><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add Product</button><h3>Products<br><small>Manage the following records representing the business\'s products</small></h3><div class=row><div class="col-md-6 col-md main" ui-view=leftPane></div><div class="col-md-6 main" ui-view=rightPane></div></div></div><footer>&copy; 2015 - appseed.io - local business</footer></section>'),a.put("app/products/view-details.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'product.details\') }"><div class=panel-heading>{{data.model.title}} <a href title="Edit this news" class="fa fa-edit pull-right" ui-sref="products.update({id: data.model._id})"></a></div><div class=panel-body><p><div class=row><div ng-repeat="picture in data.model.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt={{picture.title}} width=100%></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p ng-bind=data.model.body></p><p ng-bind=data.model.price></p><p><a href={{data.model.url}} title={{data.model.url}} ng-bind=data.model.url></a></p></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-primary" ui-sref="products.update({id: data.model._id})">Edit</button></div></div>'),a.put("app/products/view-list.html",'<div class="panel panel-default"><div class=panel-heading>List of products<a ui-sref=products.add title="Add Product" class=pull-right>Add</a></div><div class=panel-body><div ng-switch on="data.records.length > 0"><!-- Display the records when available --><div ng-switch-when=true><table class="table table-hover"><thead><tr role=row><th>Title</th><th class=cell-actions>Actions</th></tr></thead><tbody><tr ng-repeat="record in data.records" ng-controller=ProductsItemCtrl><td ng-bind=record.title ui-sref="products.details({id: record._id})"></td><td><button type=button class="btn btn-labeled btn-default btn-xs" ui-sref="products.update({id: record._id})"><span class=btn-label><i class="fa fa-edit"></i></span>Edit</button> <button type=button class="btn btn-labeled btn-danger btn-xs" ng-click=deleteItem(record)><span class=btn-label><i class="fa fa-trash-o"></i></span>Delete</button></td></tr></tbody></table><!-- pager --><ul class=pager><!-- Previous button when enabled--><li ng-hide=paginator.previous() class=previous><a href ng-click=previousPage()>Previous</a></li><!-- Previous button when disabled--><li class="previous disabled" ng-show=paginator.previous()><a href>Previous</a></li><!-- Next button when enabled--><li ng-hide=paginator.next() class=next><a href ng-click=nextPage()>Next</a></li><!-- Next button when disabled--><li class="next disabled" ng-show=paginator.next()><a href>Next</a></li></ul></div><!-- Say sorry when we are not able to display the records --><div ng-switch-default>There are no data available.</div></div></div><!-- //.panel-body --></div>'),a.put("app/push/push.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><button type=button class="btn btn-primary pull-right"><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add Order</button><h3>Push notification.<br><small>Sent push notification to all of your users or a subset of them.</small></h3><div class=row><div class="col-md-12 col-md main" ui-view=mainPane><div class="panel panel-default"><div class=panel-heading>Push notification</div><div class=panel-body><div class=form-group><label>Channel *</label><input class=form-control ng-model=push.channel placeholder=global required></div><div class=form-group><label>Message *</label><textarea class=form-control type=text ng-model=push.message value="" rows=3 placeholder="body text" required></textarea></div></div><!-- //.panel-body --><div class=panel-footer><button ng-disabled="(pushForm.$valid) ? false : false" class="btn btn-primary" ng-click=send()>Send</button> <button ui-sref=news class="btn btn-warning">Reset</button></div></div></div><!-- /ui main-view --></div></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section>'),a.put("app/reviews/form-add.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'reviews.add\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Add New review</div><form role=form name=addForm><div class=panel-body><div class=form-group><label>Full name *</label><input class=form-control ng-model=data.model.title placeholder="John Smith" required></div><div class=form-group><label>Teaser *</label><input class=form-control ng-model=data.model.teaser placeholder="A short introduction" required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="image in data.uploadedImages" class="image col-sm-6"><img ng-src={{image.file.path}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(addForm.$valid) ? false : true" class="btn btn-success" ng-click=save()>Save</button> <button ui-sref=reviews class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/reviews/form-update.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'reviews.update\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Edit review</div><form role=form name=updateForm><div class=panel-body><div class=form-group><label>Full name *</label><input class=form-control ng-model=data.model.title placeholder="John Smith" required></div><div class=form-group><label>Teaser *</label><input class=form-control ng-model=data.model.teaser placeholder="A short introduction" required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt="{{data.model.Title}} - {{$index}}" width=100%> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p><button ng-if=ui.picture type=button class="btn btn-danger btn-xs" ng-click=deleteImage(page)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(updateForm.$valid) ? false : true" class="btn btn-success" ng-click=update()>Update</button> <button ui-sref="reviews.details({id: data.model._id})" class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/reviews/reviews.html",'<!-- START aside--><aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><!-- END aside--><section><!-- START Page content--><div class=main-content><button type=button class="btn btn-primary pull-right" ui-sref=reviews.add><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add Review</button><h3>Reviews<br><small>Manage users\' reviews.</small></h3><div class=row><div class="col-md-6 col-md main" ui-view=leftPane></div><div class="col-md-6 main" ui-view=rightPane></div></div></div><!-- END Page content--><!-- START Page footer--><footer>&copy; 2015 - appseed.io - local business</footer><!-- END Page Footer--></section>'),a.put("app/reviews/view-details.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'reviews.details\') }"><div class=panel-heading>{{data.model.title}} <a href title="Edit this review" class="fa fa-edit pull-right" ui-sref="reviews.update({id: data.model._id})"></a></div><div class=panel-body><p ng-bind=data.model.teaser></p><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt={{data.model.title}} width=100%></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p ng-bind=data.model.body></p></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-primary" ui-sref="reviews.update({id: data.model._id})">Edit</button></div></div>'),a.put("app/reviews/view-list.html",'<div class="panel panel-default"><div class=panel-heading>List of reviews <a ui-sref=reviews.add title="Add review" class=pull-right>Add</a></div><div class=panel-body><div ng-switch on="data.records.length > 0"><!-- Display the data when available --><div ng-switch-when=true><table class="table table-hover"><thead><tr role=row><th>Name</th><th class=cell-actions>Actions</th></tr></thead><tbody><tr ng-repeat="record in data.records" ng-controller=ReviewsItemCtrl><td ui-sref="reviews.details({id: record._id})">{{record.title}}</td><td><button type=button class="btn btn-labeled btn-default btn-xs" ui-sref="reviews.update({id: record._id})"><span class=btn-label><i class="fa fa-edit"></i></span>Edit</button> <button type=button class="btn btn-labeled btn-danger btn-xs" ng-click=deleteReview(record)><span class=btn-label><i class="fa fa-trash-o"></i></span>Delete</button></td></tr></tbody></table><!-- data pager --><ul class=pager><!-- Previous button when enabled--><li ng-hide=paginator.previous() class=previous><a href ng-click=previousPage()>Previous</a></li><!-- Previous button when disabled--><li class="previous disabled" ng-show=paginator.previous()><a href>Previous</a></li><!-- Next button when enabled--><li ng-hide=paginator.next() class=next><a href ng-click=nextPage()>Next</a></li><!-- Next button when disabled--><li class="next disabled" ng-show=paginator.next()><a href>Next</a></li></ul></div><!-- Say sorry when we are not able to display the data --><div ng-switch-default>There are no data available.</div></div></div><!-- //.panel-body --><div class=panel-footer></div></div>'),a.put("app/services/form-add.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'services.add\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Add new service</div><form role=form name=addForm class=css-form><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>URL</label><input class=form-control type=url ng-model=data.model.url placeholder=http://example.org></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="image in data.uploadedImages" class="image col-sm-6"><img ng-src={{image.file.path}} class="img-responsive img-thumbnail" alt="Uploaded Image" width=100% ng-file-drop=onFileSelect($files)> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(addForm.$valid) ? false : true" class="btn btn-success" ng-click=save()>Save</button> <button ui-sref=services class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/services/form-update.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'service.update\'), \'csspinner traditional\': ui.inProgress }"><div class=panel-heading>Edit service</div><form role=form name=updateForm class=css-form><div class=panel-body><div class=form-group><label>Title *</label><input class=form-control ng-model=data.model.title placeholder=Title required></div><div class=form-group><label>Body</label><textarea class=form-control type=text ng-model=data.model.body value="" rows=3 placeholder="body text"></textarea></div><div class=form-group><label>URL</label><input class=form-control type=url ng-model=data.model.url placeholder=http://example.org></div><div class=form-group><label>Photo</label><div class=well><p><div class=row><div ng-repeat="picture in ui.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt="{{data.model.name}} - {{$index}}" width=100%> <button type=button class="btn btn-danger btn-xs pull-right" style="top: -28px; position: relative; right: 5px" ng-click=deleteImage($index)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p><button ng-if=ui.picture type=button class="btn btn-danger btn-xs" ng-click=deleteImage(data.model)><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button></p><div ng-file-drop=onFileSelect($files) ng-file-select=onFileSelect($files) ng-file-drag-over-class=bg-success ng-show=dropSupported class=drop-box>drop an image here<br>or click to select a file</div><div ng-file-drop-available="dropSupported=true" ng-show=!dropSupported>HTML5 Drop File is not supported! <input type=file name=image ng-model=data.model.file ng-file-select=onFileSelect($files)></div><div class=progress><div class="progress-bar progress-bar-striped active" role=progressbar aria-valuenow=45 aria-valuemin=0 aria-valuemax=100 style="width: {{ui.progress}}%">{{ui.progress}}% Complete</div></div></div><!-- /.well --></div><div class=required>* Required fields</div></div><div class=panel-footer><button ng-disabled="(updateForm.$valid) ? false : true" class="btn btn-success" ng-click=update()>Update</button> <button ui-sref="services.details({id: data.model._id})" class="btn btn-warning">Cancel</button></div></form></div>'),a.put("app/services/services.html",'<aside class=aside><div ng-include="\'components/sidebar/sidebar.html\'"></div></aside><section><div class=main-content><button type=button class="btn btn-primary pull-right" ui-sref=services.add><em class="fa fa-plus-circle fa-fw mr-sm"></em>Add Service</button><h3>Services<br><small>Manage the following records representing the business\'s services.</small></h3><div class=row><div class="col-md-6 col-md main" ui-view=leftPane></div><div class="col-md-6 main" ui-view=rightPane></div></div></div><footer>&copy; 2015 - appseed.io - local business</footer></section>'),a.put("app/services/view-details.html",'<div class="panel panel-default" ng-class="{ active: $state.includes(\'service.details\') }"><div class=panel-heading>{{data.model.title}} <a href title="Edit this news" class="fa fa-edit pull-right" ui-sref="services.update({id: data.model._id})"></a></div><div class=panel-body><p><div class=row><div ng-repeat="picture in data.model.pictures" class="image col-sm-6"><img ng-if=picture ng-src={{picture}} class="img-responsive img-thumbnail" alt={{picture.title}} width=100%></div></div><style>.row > div.image:nth-child(odd) {clear: both;}</style></p><p ng-bind=data.model.body></p><p><a href={{data.model.url}} title={{data.model.url}} ng-bind=data.model.url></a></p></div><!-- //.panel-body --><div class=panel-footer><button class="btn btn-primary" ui-sref="services.update({id: data.model._id})">Edit</button></div></div>'),a.put("app/services/view-list.html",'<div class="panel panel-default"><div class=panel-heading>List of services<a ui-sref=services.add title="Add Service" class=pull-right>Add</a></div><div class=panel-body><div ng-switch on="data.records.length > 0"><!-- Display the records when available --><div ng-switch-when=true><table class="table table-hover"><thead><tr role=row><th>Title</th><th class=cell-actions>Actions</th></tr></thead><tbody><tr ng-repeat="record in data.records" ng-controller=ServicesItemCtrl><td ng-bind=record.title ui-sref="services.details({id: record._id})"></td><td><button type=button class="btn btn-labeled btn-default btn-xs" ui-sref="services.update({id: record._id})"><span class=btn-label><i class="fa fa-edit"></i></span>Edit</button> <button type=button class="btn btn-labeled btn-danger btn-xs" ng-click=deleteItem(record)><span class=btn-label><i class="fa fa-trash-o"></i></span>Delete</button></td></tr></tbody></table><!-- pager --><ul class=pager><!-- Previous button when enabled--><li ng-hide=paginator.previous() class=previous><a href ng-click=previousPage()>Previous</a></li><!-- Previous button when disabled--><li class="previous disabled" ng-show=paginator.previous()><a href>Previous</a></li><!-- Next button when enabled--><li ng-hide=paginator.next() class=next><a href ng-click=nextPage()>Next</a></li><!-- Next button when disabled--><li class="next disabled" ng-show=paginator.next()><a href>Next</a></li></ul></div><!-- Say sorry when we are not able to display the records --><div ng-switch-default>There are no data available.</div></div></div><!-- //.panel-body --></div>'),
a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/modalDeleteItem/modal-delete.html",'<div class=modal-header><h3>Delete record</h3></div><div class=modal-body>Are you sure want to delete it forever?</div><div class=modal-footer><button class="btn btn-primary" ng-click=ok()>Yes</button> <button class="btn btn-warning" ng-click=cancel()>No</button></div>'),a.put("components/navbar/modal-logout.html",'<div class=modal-header><h3>Logout</h3></div><div class=modal-body>You will be logged out from this control panel. Are you sure?</div><div class=modal-footer><button class="btn btn-primary" ng-click=ok()>Logout</button> <button class="btn btn-warning" ng-click=cancel()>Cancel</button></div>'),a.put("components/navbar/navbar.html",'<!--\n<div class="navbar navbar-default navbar-static-top" ng-controller="NavbarCtrl">\n  <div class="container">\n    <div class="navbar-header">\n      <button class="navbar-toggle" type="button" ng-click="isCollapsed = !isCollapsed">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a href="/" class="navbar-brand">news</a>\n    </div>\n    <div collapse="isCollapsed" class="navbar-collapse collapse" id="navbar-main">\n      <ul class="nav navbar-nav">\n        <li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}">\n          <a ng-href="{{item.link}}">{{item.title}}</a>\n        </li>\n        <li ng-show="isAdmin()" ng-class="{active: isActive(\'/admin\')}"><a href="/admin">Admin</a>\n        </li>\n      </ul>\n\n      <ul class="nav navbar-nav navbar-right">\n        <li ng-hide="isLoggedIn()" ng-class="{active: isActive(\'/signup\')}"><a href="/signup">Sign up</a>\n        </li>\n        <li ng-hide="isLoggedIn()" ng-class="{active: isActive(\'/login\')}"><a href="/login">Login</a>\n        </li>\n        <li ng-show="isLoggedIn()">\n          <p class="navbar-text">Hello {{ getCurrentUser().name }}</p>\n        </li>\n        <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/settings\')}">\n          <a href="/settings">\n            <span class="glyphicon glyphicon-cog"></span>\n          </a>\n        </li>\n        <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click="logout()">Logout</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n--><!-- START Top Navbar--><nav role=navigation class="navbar navbar-default navbar-top navbar-fixed-top" ng-class="{anonymous: !isLoggedIn()}" ng-controller=NavbarCtrl><!-- START navbar header--><div class=navbar-header><a href=dashboard.html class=navbar-brand><div class=brand-logo><img src=assets/images/1c203a1e.logo.png alt="App Logo" class=img-responsive></div><div class=brand-logo-collapsed><img src=assets/images/6df3d2f0.logo-single.png alt="App Logo" class=img-responsive></div></a></div><!-- END navbar header--><!-- START Nav wrapper--><div class=nav-wrapper><!-- START Left navbar--><ul class="nav navbar-nav"><li><!-- Button used to collapse the left sidebar. Only visible on tablet and desktops--><a href=# data-toggle-state=aside-collapsed data-persists=true class=hidden-xs><em class="fa fa-navicon"></em></a><!-- Button to show/hide the sidebar on mobile. Visible on mobile only.--> <a href=# data-toggle-state=aside-toggled class=visible-xs><em class="fa fa-navicon"></em></a></li><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}><em class="fa {{item.fa}}"></em> {{item.title}}</a></li><li ng-show=isAdmin() ng-class="{active: isActive(\'/admin\')}" style=display:none><a href=/admin><em class="fa fa-users"></em> Admin</a></li></ul><!-- END Left navbar--><!-- START Right Navbar--><ul class="nav navbar-nav navbar-right"><li ng-hide=isLoggedIn() ng-class="{active: isActive(\'/login\')}"><a href=/login><em class="fa fa-sign-in"></em> Login</a></li><!--\n         <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/settings\')}">\n           <a href="/settings">\n             <span class="glyphicon glyphicon-cog"></span>\n           </a>\n         </li>\n\n         <li ng-show="isLoggedIn()" ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click="logout()"><em class="fa fa-sign-out"></em> Logout</a>\n         </li>\n          --><!-- START User menu--><li class=dropdown><a href=# data-toggle=dropdown data-play=fadeIn class=dropdown-toggle><em class="glyphicon glyphicon-cog"></em></a><!-- START Dropdown menu--><ul class=dropdown-menu><li><div class=p>{{ getCurrentUser().name }}</div></li><li class=divider></li><li><a href=/settings><em class="fa fa-gear"></em> Settings</a></li><li ng-show=isLoggedIn() ng-class="{active: isActive(\'/logout\')}"><a href="" ng-click=logout()><em class="fa fa-sign-out"></em> Logout</a></li></ul><!-- END Dropdown menu--></li><!-- END User menu--></ul><!-- END Right Navbar--></div><!-- END Nav wrapper--></nav><!-- END Top Navbar-->'),a.put("components/sidebar/sidebar.html",'<!--\n<div ng-controller="SidebarCtrl" ng-show="currentUser" class="col-md-2 sidebar">\n  <ul class="nav nav-sidebar">\n    <li><a ui-sref="main">Home</a>\n    </li>\n    <li><a ui-sref="news">News</a>\n    </li>\n  </ul>\n</div>\n--><!-- START Sidebar (left)--><nav ng-controller=SidebarCtrl ng-show=currentUser class=sidebar><ul class=nav><!-- START Menu--><li class=nav-heading>{{ currentUser.name }}</li><li ng-class="{active: isGroupActive(\'dashboard\')}"><a ui-sref=main title=Dashboard data-toggle="" class=no-submenu><em class="fa fa-dashboard"></em> <span class=item-text>Dashboard</span></a></li><li ng-class="{active: isGroupActive(\'articles\')}" ng-if=!isAdmin()><a ui-sref=articles title=Articles data-toggle="" class=no-submenu><em class="fa fa-comments-o"></em> <span class=item-text>Articles</span></a></li><li ng-class="{active: isGroupActive(\'products\')}" ng-if=!isAdmin()><a ui-sref=products title=Products data-toggle="" class=no-submenu><em class="fa fa-th-large"></em> <span class=item-text>Products</span></a></li><li ng-class="{active: isGroupActive(\'services\')}" ng-if=!isAdmin()><a ui-sref=services title=Services data-toggle="" class=no-submenu><em class="fa fa-tasks"></em> <span class=item-text>Services</span></a></li><li ng-class="{active: isGroupActive(\'galleries\')}" ng-if=!isAdmin()><a ui-sref=galleries title=Gallery data-toggle=collapse-next class=no-submenu><em class="fa fa-picture-o"></em> <span class=item-text>Galleries</span></a></li><li ng-class="{active: isGroupActive(\'catalogs\')}" ng-if=!isAdmin()><a ui-sref=catalogs title=Catalogs data-toggle=collapse-next class=no-submenu><em class="fa fa-th"></em> <span class=item-text>Catalogs</span></a></li><li ng-class="{active: isGroupActive(\'pages\')}" ng-if=!isAdmin()><a ui-sref=pages title=Pages data-toggle="" class=no-submenu><em class="fa fa-file-o"></em> <span class=item-text>Pages</span></a></li><li ng-class="{active: isGroupActive(\'reviews\')}" ng-if=!isAdmin()><a ui-sref=reviews title=Reviews data-toggle="" class=no-submenu><em class="fa fa-quote-left"></em> <span class=item-text>Reviews</span></a></li><li ng-class="{active: isGroupActive(\'account\')}" ng-if=!isAdmin()><a href="" title=Account data-toggle=collapse-next class=has-submenu><em class="fa fa-gears"></em> <span class=item-text>Business</span></a><!-- START SubMenu item--><ul class="nav collapse" ng-class="{in: isGroupActive(\'account\')}"><li ng-class="{active: isItemActive(\'business\')}"><a ui-sref=business title=Business data-toggle="" class=no-submenu><span class=item-text>Information</span></a></li><li ng-class="{active: isItemActive(\'photos\')}"><a ui-sref=photos title=Photos data-toggle="" class=no-submenu><span class=item-text>Photos</span></a></li><li ng-class="{active: isItemActive(\'contact\')}"><a ui-sref=contact title=Contact data-toggle="" class=no-submenu><span class=item-text>Contact</span></a></li></ul><!-- END SubMenu item--></li><li ng-class="{active: isGroupActive(\'push\')}" ng-if=false><!-- push notifications will be implemented in the future --><a ui-sref=push title=Push data-toggle=collapse-next class=no-submenu><em class="fa fa-bullhorn"></em> <span class=item-text>Push</span></a></li><li ng-show=isAdmin() ng-class="{active: isGroupActive(\'admin\')}"><a href=/admin ng-class="{active: isActive(\'/admin\')}" class=no-submenu><em class="fa fa-users"></em> <span class=item-text>Administration</span></a></li><li ng-class="{active: isGroupActive(\'clients\')}" ng-if=!isAdmin()><a ui-sref=clients title=Clients data-toggle=collapse-next class=no-submenu><em class="fa fa-mobile"></em> <span class=item-text>API Clients</span></a></li><li ng-if=false><!-- language selector will be implemented in the future --><a title=Languanges data-toggle=collapse-next class=has-submenu><em class="fa fa-flag"></em> <span class=item-text>Languanges</span></a><!-- Languages sub menu items --><ul class="nav collapse"><li><a ng-click="onChangeLanguage(\'en\')" title=English data-toggle="" class=no-submenu><span class=item-text>English</span></a></li><li><a ng-click="onChangeLanguage(\'de\')" title=Germany data-toggle="" class=no-submenu><span class=item-text>Germany</span></a></li></ul></li></ul></nav><!-- END Sidebar (left)-->')}]);